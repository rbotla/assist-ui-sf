/*! For license information please see assistantui.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AssistantUI=t():e.AssistantUI=t()}(this,()=>(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},i=[],o=0;o<e.length;o++){var l=e[o],u=r.base?l[0]+r.base:l[0],c=s[u]||0,d="".concat(u," ").concat(c);s[u]=c+1;var f=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var p=a(h,r);r.byIndex=o,t.splice(o,0,{identifier:d,updater:p,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var o=n(s[i]);t[o].references--}for(var l=r(e,a),u=0;u<s.length;u++){var c=n(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},159:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},221:(e,t,n)=>{var r=n(540);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal"),l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=u(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=u(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=u(t.as,t.crossOrigin);i.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},247:(e,t,n)=>{var r=n(982),a=n(540),s=n(961);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(i(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case T:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case p:return"Portal";case w:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return A(e(t))}catch(e){}}return null}var M=Array.isArray,N=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},L=[],D=-1;function F(e){return{current:e}}function B(e){0>D||(e.current=L[D],L[D]=null,D--)}function j(e,t){D++,L[D]=e.current,e.current=t}var U=F(null),$=F(null),H=F(null),V=F(null);function q(e,t){switch(j(H,t),j($,e),j(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),j(U,e)}function W(){B(U),B($),B(H)}function Q(e){null!==e.memoizedState&&j(V,e);var t=U.current,n=ad(t,e.type);t!==n&&(j($,e),j(U,n))}function K(e){$.current===e&&(B(U),B($)),V.current===e&&(B(V),Qd._currentValue=O)}var Y=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,G=r.unstable_cancelCallback,X=r.unstable_shouldYield,Z=r.unstable_requestPaint,ee=r.unstable_now,te=r.unstable_getCurrentPriorityLevel,ne=r.unstable_ImmediatePriority,re=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,ie=r.unstable_IdlePriority,oe=r.log,le=r.unstable_setDisableYieldValue,ue=null,ce=null;function de(e){if("function"==typeof oe&&le(e),ce&&"function"==typeof ce.setStrictMode)try{ce.setStrictMode(ue,e)}catch(e){}}var fe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(he(e)/pe|0)|0},he=Math.log,pe=Math.LN2,me=256,ge=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=be(r):0!==(i&=o)?a=be(i):n||0!==(n=o&~e)&&(a=be(n)):0!==(o=r&~s)?a=be(o):0!==i?a=be(i):n||0!==(n=r&~e)&&(a=be(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&4194048&n)?t:a}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=me;return!(4194048&(me<<=1))&&(me=256),e}function _e(){var e=ge;return!(62914560&(ge<<=1))&&(ge=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Re(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:of(e.type)}var Pe=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Pe,Me="__reactProps$"+Pe,Ne="__reactContainer$"+Pe,ze="__reactEvents$"+Pe,Oe="__reactListeners$"+Pe,Le="__reactHandles$"+Pe,De="__reactResources$"+Pe,Fe="__reactMarker$"+Pe;function Be(e){delete e[Ae],delete e[Me],delete e[ze],delete e[Oe],delete e[Le]}function je(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ne]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yd(e);null!==e;){if(n=e[Ae])return n;e=yd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Ae]||e[Ne]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function He(e){var t=e[De];return t||(t=e[De]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Fe]=!0}var qe=new Set,We={};function Qe(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(We[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ye,Je,Ge=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xe={},Ze={};function et(e,t,n){if(a=t,Y.call(Ze,a)||!Y.call(Xe,a)&&(Ge.test(a)?Ze[a]=!0:(Xe[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function tt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function nt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function rt(e){if(void 0===Ye)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),u=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==u[a]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=a);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function it(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return rt("Activity");default:return""}}function ot(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ct(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function pt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?bt(e,i,lt(t)):null!=n?bt(e,i,lt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+lt(o):e.removeAttribute("name")}function gt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(M(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Mt=null;function Nt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Me]||null;if(!a)throw Error(i(90));mt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ot(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==At||null!==Mt)&&(ju(),At&&(t=At,e=Mt,Mt=At=null,Nt(t),e)))for(t=0;t<e.length;t++)Nt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Dt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ft=!1;if(Dt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(e){Ft=!1}var jt=null,Ut=null,$t=null;function Ht(){if($t)return $t;var e,t,n=Ut,r=n.length,a="value"in jt?jt.value:jt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Wt(){return!1}function Qt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?qt:Wt,this.isPropagationStopped=Wt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Kt,Yt,Jt,Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Qt(Gt),Zt=d({},Gt,{view:0,detail:0}),en=Qt(Zt),tn=d({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Kt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Kt=0,Jt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Qt(tn),rn=Qt(d({},tn,{dataTransfer:0})),an=Qt(d({},Zt,{relatedTarget:0})),sn=Qt(d({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Qt(d({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Qt(d({},Gt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function hn(){return fn}var pn=Qt(d({},Zt,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Qt(d({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Qt(d({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),bn=Qt(d({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Qt(d({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Qt(d({},Gt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=Dt&&"CompositionEvent"in window,_n=null;Dt&&"documentMode"in document&&(_n=document.documentMode);var kn=Dt&&"TextEvent"in window&&!_n,En=Dt&&(!Sn||_n&&8<_n&&11>=_n),xn=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1,Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Mn(e,t,n,r){At?Mt?Mt.push(r):Mt=[r]:At=r,0<(t=Hc(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nn=null,zn=null;function On(e){Oc(e,0)}function Ln(e){if(dt($e(e)))return e}function Dn(e,t){if("change"===e)return t}var Fn=!1;if(Dt){var Bn;if(Dt){var jn="oninput"in document;if(!jn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),jn="function"==typeof Un.oninput}Bn=jn}else Bn=!1;Fn=Bn&&(!document.documentMode||9<document.documentMode)}function $n(){Nn&&(Nn.detachEvent("onpropertychange",Hn),zn=Nn=null)}function Hn(e){if("value"===e.propertyName&&Ln(zn)){var t=[];Mn(t,zn,e,Pt(e)),Ot(On,t)}}function Vn(e,t,n){"focusin"===e?($n(),zn=n,(Nn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&$n()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(zn)}function Wn(e,t){if("click"===e)return Ln(t)}function Qn(e,t){if("input"===e||"change"===e)return Ln(t)}var Kn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Yn(e,t){if(Kn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Y.call(t,a)||!Kn(e[a],t[a]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tr=Dt&&"documentMode"in document&&11>=document.documentMode,nr=null,rr=null,ar=null,sr=!1;function ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==nr||nr!==ft(r)||(r="selectionStart"in(r=nr)&&er(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Hc(rr,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nr)))}function or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},ur={},cr={};function dr(e){if(ur[e])return ur[e];if(!lr[e])return e;var t,n=lr[e];for(t in n)if(n.hasOwnProperty(t)&&t in cr)return ur[e]=n[t];return e}Dt&&(cr=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);var fr=dr("animationend"),hr=dr("animationiteration"),pr=dr("animationstart"),mr=dr("transitionrun"),gr=dr("transitionstart"),br=dr("transitioncancel"),yr=dr("transitionend"),vr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){vr.set(e,t),Qe(t,[e])}wr.push("scrollEnd");var _r=new WeakMap;function kr(e,t){if("object"==typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ot(t)},_r.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var Er=[],xr=0,Tr=0;function Ir(){for(var e=xr,t=Tr=xr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var a=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Ar(n,a,s)}}function Cr(e,t,n,r){Er[xr++]=e,Er[xr++]=t,Er[xr++]=n,Er[xr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Cr(e,t,n,r),Mr(e)}function Pr(e,t){return Cr(e,null,null,t),Mr(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Mr(e){if(50<Au)throw Au=0,Mu=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new zr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,a,s){var o=0;if(r=e,"function"==typeof e)Lr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Or(31,n,t,a)).elementType=T,e.lanes=s,e;case m:return jr(n.children,a,s,t);case g:o=8,a|=24;break;case b:return(e=Or(12,n,t,2|a)).elementType=b,e.lanes=s,e;case _:return(e=Or(13,n,t,a)).elementType=_,e.lanes=s,e;case k:return(e=Or(19,n,t,a)).elementType=k,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case w:o=10;break e;case v:o=9;break e;case S:o=11;break e;case E:o=14;break e;case x:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Or(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function jr(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Vr=0,qr=null,Wr=0,Qr=[],Kr=0,Yr=null,Jr=1,Gr="";function Xr(e,t){Hr[Vr++]=Wr,Hr[Vr++]=qr,qr=e,Wr=t}function Zr(e,t,n){Qr[Kr++]=Jr,Qr[Kr++]=Gr,Qr[Kr++]=Yr,Yr=e;var r=Jr;e=Gr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var s=32-fe(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Jr=1<<32-fe(t)+a|n<<a|r,Gr=s+e}else Jr=1<<s|n<<a|r,Gr=e}function ea(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ta(e){for(;e===qr;)qr=Hr[--Vr],Hr[Vr]=null,Wr=Hr[--Vr],Hr[Vr]=null;for(;e===Yr;)Yr=Qr[--Kr],Qr[Kr]=null,Gr=Qr[--Kr],Qr[Kr]=null,Jr=Qr[--Kr],Qr[Kr]=null}var na=null,ra=null,aa=!1,sa=null,ia=!1,oa=Error(i(519));function la(e){throw pa(kr(Error(i(418,"")),e)),oa}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Me]=r,n){case"dialog":Lc("cancel",t),Lc("close",t);break;case"iframe":case"object":case"embed":Lc("load",t);break;case"video":case"audio":for(n=0;n<Nc.length;n++)Lc(Nc[n],t);break;case"source":Lc("error",t);break;case"img":case"image":case"link":Lc("error",t),Lc("load",t);break;case"details":Lc("toggle",t);break;case"input":Lc("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ct(t);break;case"select":Lc("invalid",t);break;case"textarea":Lc("invalid",t),wt(t,r.value,r.defaultValue,r.children),ct(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(Lc("beforetoggle",t),Lc("toggle",t)),null!=r.onScroll&&Lc("scroll",t),null!=r.onScrollEnd&&Lc("scrollend",t),null!=r.onClick&&(t.onclick=Jc),t=!0):t=!1,t||la(e)}function ca(e){for(na=e.return;na;)switch(na.tag){case 5:case 13:return void(ia=!1);case 27:case 3:return void(ia=!0);default:na=na.return}}function da(e){if(e!==na)return!1;if(!aa)return ca(e),aa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ra&&la(e),ca(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ra=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ra=null}}else 27===n?(n=ra,fd(e.type)?(e=bd,bd=null,ra=e):ra=n):ra=na?gd(e.stateNode.nextSibling):null;return!0}function fa(){ra=na=null,aa=!1}function ha(){var e=sa;return null!==e&&(null===yu?yu=e:yu.push.apply(yu,e),sa=null),e}function pa(e){null===sa?sa=[e]:sa.push(e)}var ma=F(null),ga=null,ba=null;function ya(e,t,n){j(ma,t._currentValue),t._currentValue=n}function va(e){e._currentValue=ma.current,B(ma)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wa(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function _a(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(524288&a.flags)s=!0;else if(262144&a.flags)break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Kn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===V.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&Sa(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){ga=e,ba=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function xa(e){return Ia(ga,e)}function Ta(e,t){return null===ga&&Ea(e),Ia(e,t)}function Ia(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ba){if(null===e)throw Error(i(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var Ca="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ra=r.unstable_scheduleCallback,Pa=r.unstable_NormalPriority,Aa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ma(){return{controller:new Ca,data:new Map,refCount:0}}function Na(e){e.refCount--,0===e.refCount&&Ra(Pa,function(){e.controller.abort()})}var za=null,Oa=0,La=0,Da=null;function Fa(){if(0===--Oa&&null!==za){null!==Da&&(Da.status="fulfilled");var e=za;za=null,La=0,Da=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ba=N.S;N.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===za){var n=za=[];Oa=0,La=Cc(),Da={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oa++,t.then(Fa,Fa)}(0,t),null!==Ba&&Ba(e,t)};var ja=F(null);function Ua(){var e=ja.current;return null!==e?e:nu.pooledCache}function $a(e,t){j(ja,null===t?ja.current:t.pool)}function Ha(){var e=Ua();return null===e?null:{parent:Aa._currentValue,pool:e}}var Va=Error(i(460)),qa=Error(i(474)),Wa=Error(i(542)),Qa={then:function(){}};function Ka(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ya(){}function Ja(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ya,Ya),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw Za(e=t.reason),e;default:if("string"==typeof t.status)t.then(Ya,Ya);else{if(null!==(e=nu)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Za(e=t.reason),e}throw Ga=t,Va}}var Ga=null;function Xa(){if(null===Ga)throw Error(i(459));var e=Ga;return Ga=null,e}function Za(e){if(e===Va||e===Wa)throw Error(i(483))}var es=!1;function ts(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&tu){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Mr(e),Ar(e,null,n),t}return Cr(e,r,t,n),Mr(e)}function ss(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function is(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var os=!1;function ls(){if(os&&null!==Da)throw Da}function us(e,t,n,r){os=!1;var a=e.updateQueue;es=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,u=l.next;l.next=null,null===i?s=u:i.next=u,i=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==s){var f=a.baseState;for(i=0,c=u=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(au&h)===h:(r&h)===h){0!==h&&h===La&&(os=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var b=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(b,f,h);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=g.payload)?m.call(b,f,h):m))break e;f=d({},f,h);break e;case 2:es=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,l=f):c=c.next=p,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===c&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null===s&&(a.shared.lanes=0),fu|=i,e.lanes=i,e.memoizedState=f}}function cs(e,t){if("function"!=typeof e)throw Error(i(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)cs(n[e],t)}var fs=F(null),hs=F(0);function ps(e,t){j(hs,e=cu),j(fs,t),cu=e|t.baseLanes}function ms(){j(hs,cu),j(fs,fs.current)}function gs(){cu=hs.current,B(fs),B(hs)}var bs=0,ys=null,vs=null,ws=null,Ss=!1,_s=!1,ks=!1,Es=0,xs=0,Ts=null,Is=0;function Cs(){throw Error(i(321))}function Rs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Ps(e,t,n,r,a,s){return bs=s,ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Vi:qi,ks=!1,s=n(r,a),ks=!1,_s&&(s=Ms(t,n,r,a)),As(e),s}function As(e){N.H=Hi;var t=null!==vs&&null!==vs.next;if(bs=0,ws=vs=ys=null,Ss=!1,xs=0,Ts=null,t)throw Error(i(300));null===e||To||null!==(e=e.dependencies)&&ka(e)&&(To=!0)}function Ms(e,t,n,r){ys=e;var a=0;do{if(_s&&(Ts=null),xs=0,_s=!1,25<=a)throw Error(i(301));if(a+=1,ws=vs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}N.H=Wi,s=t(n,r)}while(_s);return s}function Ns(){var e=N.H,t=e.useState()[0];return t="function"==typeof t.then?Bs(t):t,e=e.useState()[0],(null!==vs?vs.memoizedState:null)!==e&&(ys.flags|=1024),t}function zs(){var e=0!==Es;return Es=0,e}function Os(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ls(e){if(Ss){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ss=!1}bs=0,ws=vs=ys=null,_s=!1,xs=Es=0,Ts=null}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?ys.memoizedState=ws=e:ws=ws.next=e,ws}function Fs(){if(null===vs){var e=ys.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ws?ys.memoizedState:ws.next;if(null!==t)ws=t,vs=e;else{if(null===e){if(null===ys.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ws?ys.memoizedState=ws=e:ws=ws.next=e}return ws}function Bs(e){var t=xs;return xs+=1,null===Ts&&(Ts=[]),e=Ja(Ts,e,t),t=ys,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Vi:qi),e}function js(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Bs(e);if(e.$$typeof===w)return xa(e)}throw Error(i(438,String(e)))}function Us(e){var t=null,n=ys.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ys.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function $s(e,t){return"function"==typeof t?t(e):t}function Hs(e){return Vs(Fs(),vs,e)}function Vs(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,u=null,c=t=a.next,d=!1;do{var f=-536870913&c.lane;if(f!==c.lane?(au&f)===f:(bs&f)===f){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===La&&(d=!0);else{if((bs&h)===h){c=c.next,h===La&&(d=!0);continue}f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,o=s):u=u.next=f,ys.lanes|=h,fu|=h}f=c.action,ks&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else h={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,o=s):u=u.next=h,ys.lanes|=f,fu|=f;c=c.next}while(null!==c&&c!==t);if(null===u?o=s:u.next=l,!Kn(s,e.memoizedState)&&(To=!0,d&&null!==(n=Da)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=u,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qs(e){var t=Fs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Kn(s,t.memoizedState)||(To=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ws(e,t,n){var r=ys,a=Fs(),s=aa;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Kn((vs||a).memoizedState,n);if(o&&(a.memoizedState=n,To=!0),a=a.queue,mi(2048,8,Ys.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ks.bind(null,r,a,n,t),null),null===nu)throw Error(i(349));s||124&bs||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ys.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ks(e,t,n,r){t.value=n,t.getSnapshot=r,Js(t)&&Gs(e)}function Ys(e,t,n){return n(function(){Js(t)&&Gs(e)})}function Js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(e){return!0}}function Gs(e){var t=Pr(e,2);null!==t&&Ou(t,0,2)}function Xs(e){var t=Ds();if("function"==typeof e){var n=e;if(e=n(),ks){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t}function Zs(e,t,n,r){return e.baseState=n,Vs(e,vs,"function"==typeof r?r:$s)}function ei(e,t,n,r,a){if(ji(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==N.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,ti(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ti(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=N.T,i={};N.T=i;try{var o=n(a,r),l=N.S;null!==l&&l(i,o),ni(e,t,o)}catch(n){ai(e,t,n)}finally{N.T=s}}else try{ni(e,t,s=n(a,r))}catch(n){ai(e,t,n)}}function ni(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ri(e,t,n)},function(n){return ai(e,t,n)}):ri(e,t,n)}function ri(e,t,n){t.status="fulfilled",t.value=n,si(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ti(e,n)))}function ai(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,si(t),t=t.next}while(t!==r)}e.action=null}function si(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ii(e,t){return t}function oi(e,t){if(aa){var n=nu.formState;if(null!==n){e:{var r=ys;if(aa){if(ra){t:{for(var a=ra,s=ia;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=gd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){ra=gd(a.nextSibling),r="F!"===a.data;break e}}la(r)}r=!1}r&&(t=n[0])}}return(n=Ds()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},n.queue=r,n=Di.bind(null,ys,r),r.dispatch=n,r=Xs(!1),s=Bi.bind(null,ys,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Ds()).queue=a,n=ei.bind(null,ys,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function li(e){return ui(Fs(),vs,e)}function ui(e,t,n){if(t=Vs(e,t,ii)[0],e=Hs($s)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Bs(t)}catch(e){if(e===Va)throw Wa;throw e}else r=t;var a=(t=Fs()).queue,s=a.dispatch;return n!==t.memoizedState&&(ys.flags|=2048,fi(9,{destroy:void 0,resource:void 0},ci.bind(null,a,n),null)),[r,s,e]}function ci(e,t){e.action=t}function di(e){var t=Fs(),n=vs;if(null!==n)return ui(t,n,e);Fs(),t=t.memoizedState;var r=(n=Fs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ys.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hi(){return Fs().memoizedState}function pi(e,t,n,r){var a=Ds();r=void 0===r?null:r,ys.flags|=e,a.memoizedState=fi(1|t,{destroy:void 0,resource:void 0},n,r)}function mi(e,t,n,r){var a=Fs();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==vs&&null!==r&&Rs(r,vs.memoizedState.deps)?a.memoizedState=fi(t,s,n,r):(ys.flags|=e,a.memoizedState=fi(1|t,s,n,r))}function gi(e,t){pi(8390656,8,e,t)}function bi(e,t){mi(2048,8,e,t)}function yi(e,t){return mi(4,2,e,t)}function vi(e,t){return mi(4,4,e,t)}function wi(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Si(e,t,n){n=null!=n?n.concat([e]):null,mi(4,4,wi.bind(null,t,e),n)}function _i(){}function ki(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Rs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ei(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Rs(t,r[1]))return r[0];if(r=e(),ks){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function xi(e,t,n){return void 0===n||1073741824&bs?e.memoizedState=t:(e.memoizedState=n,e=zu(),ys.lanes|=e,fu|=e,n)}function Ti(e,t,n,r){return Kn(n,t)?n:null!==fs.current?(e=xi(e,n,r),Kn(e,t)||(To=!0),e):42&bs?(e=zu(),ys.lanes|=e,fu|=e,t):(To=!0,e.memoizedState=n)}function Ii(e,t,n,r,a){var s=z.p;z.p=0!==s&&8>s?s:8;var i,o,l,u=N.T,c={};N.T=c,Bi(e,!1,t,n);try{var d=a(),f=N.S;null!==f&&f(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?Fi(e,t,(i=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Nu()):Fi(e,t,r,Nu())}catch(n){Fi(e,t,{then:function(){},status:"rejected",reason:n},Nu())}finally{z.p=s,N.T=u}}function Ci(){}function Ri(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=Pi(e).queue;Ii(e,a,t,O,null===n?Ci:function(){return Ai(e),n(r)})}function Pi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ai(e){Fi(e,Pi(e).next.queue,{},Nu())}function Mi(){return xa(Qd)}function Ni(){return Fs().memoizedState}function zi(){return Fs().memoizedState}function Oi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nu(),r=as(t,e=rs(n),n);return null!==r&&(Ou(r,0,n),ss(r,t,n)),t={cache:Ma()},void(e.payload=t)}t=t.return}}function Li(e,t,n){var r=Nu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ji(e)?Ui(t,n):null!==(n=Rr(e,t,n,r))&&(Ou(n,0,r),$i(n,t,r))}function Di(e,t,n){Fi(e,t,n,Nu())}function Fi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ji(e))Ui(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Kn(o,i))return Cr(e,t,a,0),null===nu&&Ir(),!1}catch(e){}if(null!==(n=Rr(e,t,a,r)))return Ou(n,0,r),$i(n,t,r),!0}return!1}function Bi(e,t,n,r){if(r={lane:2,revertLane:Cc(),action:r,hasEagerState:!1,eagerState:null,next:null},ji(e)){if(t)throw Error(i(479))}else null!==(t=Rr(e,n,r,2))&&Ou(t,0,2)}function ji(e){var t=e.alternate;return e===ys||null!==t&&t===ys}function Ui(e,t){_s=Ss=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $i(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Hi={readContext:xa,use:js,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useLayoutEffect:Cs,useInsertionEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useSyncExternalStore:Cs,useId:Cs,useHostTransitionStatus:Cs,useFormState:Cs,useActionState:Cs,useOptimistic:Cs,useMemoCache:Cs,useCacheRefresh:Cs},Vi={readContext:xa,use:js,useCallback:function(e,t){return Ds().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:gi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,pi(4194308,4,wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){pi(4,2,e,t)},useMemo:function(e,t){var n=Ds();t=void 0===t?null:t;var r=e();if(ks){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ds();if(void 0!==n){var a=n(t);if(ks){de(!0);try{n(t)}finally{de(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Li.bind(null,ys,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ds().memoizedState=e},useState:function(e){var t=(e=Xs(e)).queue,n=Di.bind(null,ys,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_i,useDeferredValue:function(e,t){return xi(Ds(),e,t)},useTransition:function(){var e=Xs(!1);return e=Ii.bind(null,ys,e.queue,!0,!1),Ds().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ys,a=Ds();if(aa){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===nu)throw Error(i(349));124&au||Qs(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,gi(Ys.bind(null,r,s,e),[e]),r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ks.bind(null,r,s,n,t),null),n},useId:function(){var e=Ds(),t=nu.identifierPrefix;if(aa){var n=Gr;t="«"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Es++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Is++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Mi,useFormState:oi,useActionState:oi,useOptimistic:function(e){var t=Ds();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bi.bind(null,ys,!0,n),n.dispatch=t,[e,t]},useMemoCache:Us,useCacheRefresh:function(){return Ds().memoizedState=Oi.bind(null,ys)}},qi={readContext:xa,use:js,useCallback:ki,useContext:xa,useEffect:bi,useImperativeHandle:Si,useInsertionEffect:yi,useLayoutEffect:vi,useMemo:Ei,useReducer:Hs,useRef:hi,useState:function(){return Hs($s)},useDebugValue:_i,useDeferredValue:function(e,t){return Ti(Fs(),vs.memoizedState,e,t)},useTransition:function(){var e=Hs($s)[0],t=Fs().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Ws,useId:Ni,useHostTransitionStatus:Mi,useFormState:li,useActionState:li,useOptimistic:function(e,t){return Zs(Fs(),0,e,t)},useMemoCache:Us,useCacheRefresh:zi},Wi={readContext:xa,use:js,useCallback:ki,useContext:xa,useEffect:bi,useImperativeHandle:Si,useInsertionEffect:yi,useLayoutEffect:vi,useMemo:Ei,useReducer:qs,useRef:hi,useState:function(){return qs($s)},useDebugValue:_i,useDeferredValue:function(e,t){var n=Fs();return null===vs?xi(n,e,t):Ti(n,vs.memoizedState,e,t)},useTransition:function(){var e=qs($s)[0],t=Fs().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Ws,useId:Ni,useHostTransitionStatus:Mi,useFormState:di,useActionState:di,useOptimistic:function(e,t){var n=Fs();return null!==vs?Zs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Us,useCacheRefresh:zi},Qi=null,Ki=0;function Yi(e){var t=Ki;return Ki+=1,null===Qi&&(Qi=[]),Ja(Qi,e,t)}function Ji(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Gi(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function Zi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Dr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===x&&Xi(s)===t.type)?(Ji(t=a(t,n.props),n),t.return=e,t):(Ji(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=jr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return Ji(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=$r(t,e.mode,n)).return=e,t;case x:return f(e,t=(0,t._init)(t._payload),n)}if(M(t)||R(t))return(t=jr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,Yi(t),n);if(t.$$typeof===w)return f(e,Ta(e,t),n);Gi(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===a?u(e,t,n,r):null;case p:return n.key===a?c(e,t,n,r):null;case x:return g(e,t,n=(a=n._init)(n._payload),r)}if(M(n)||R(n))return null!==a?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Yi(n),r);if(n.$$typeof===w)return g(e,t,Ta(e,n),r);Gi(e,n)}return null}function b(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return b(e,t,n,r=(0,r._init)(r._payload),a)}if(M(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return b(e,t,n,Yi(r),a);if(r.$$typeof===w)return b(e,t,n,Ta(t,r),a);Gi(t,r)}return null}function y(l,u,c,d){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case h:e:{for(var v=c.key;null!==u;){if(u.key===v){if((v=c.type)===m){if(7===u.tag){n(l,u.sibling),(d=a(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===x&&Xi(v)===u.type){n(l,u.sibling),Ji(d=a(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===m?((d=jr(c.props.children,l.mode,d,c.key)).return=l,l=d):(Ji(d=Br(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return o(l);case p:e:{for(v=c.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=a(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=$r(c,l.mode,d)).return=l,l=d}return o(l);case x:return y(l,u,c=(v=c._init)(c._payload),d)}if(M(c))return function(a,i,o,l){for(var u=null,c=null,d=i,h=i=0,p=null;null!==d&&h<o.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var m=g(a,d,o[h],l);if(null===m){null===d&&(d=p);break}e&&d&&null===m.alternate&&t(a,d),i=s(m,i,h),null===c?u=m:c.sibling=m,c=m,d=p}if(h===o.length)return n(a,d),aa&&Xr(a,h),u;if(null===d){for(;h<o.length;h++)null!==(d=f(a,o[h],l))&&(i=s(d,i,h),null===c?u=d:c.sibling=d,c=d);return aa&&Xr(a,h),u}for(d=r(d);h<o.length;h++)null!==(p=b(d,a,h,o[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),i=s(p,i,h),null===c?u=p:c.sibling=p,c=p);return e&&d.forEach(function(e){return t(a,e)}),aa&&Xr(a,h),u}(l,u,c,d);if(R(c)){if("function"!=typeof(v=R(c)))throw Error(i(150));return function(a,o,l,u){if(null==l)throw Error(i(151));for(var c=null,d=null,h=o,p=o=0,m=null,y=l.next();null!==h&&!y.done;p++,y=l.next()){h.index>p?(m=h,h=null):m=h.sibling;var v=g(a,h,y.value,u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(a,h),o=s(v,o,p),null===d?c=v:d.sibling=v,d=v,h=m}if(y.done)return n(a,h),aa&&Xr(a,p),c;if(null===h){for(;!y.done;p++,y=l.next())null!==(y=f(a,y.value,u))&&(o=s(y,o,p),null===d?c=y:d.sibling=y,d=y);return aa&&Xr(a,p),c}for(h=r(h);!y.done;p++,y=l.next())null!==(y=b(h,a,p,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?p:y.key),o=s(y,o,p),null===d?c=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(a,e)}),aa&&Xr(a,p),c}(l,u,c=v.call(c),d)}if("function"==typeof c.then)return y(l,u,Yi(c),d);if(c.$$typeof===w)return y(l,u,Ta(l,c),d);Gi(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=a(u,c)).return=l,l=d):(n(l,u),(d=Ur(c,l.mode,d)).return=l,l=d),o(l)):n(l,u)}return function(e,t,n,r){try{Ki=0;var a=y(e,t,n,r);return Qi=null,a}catch(t){if(t===Va||t===Wa)throw t;var s=Or(29,t,null,e.mode);return s.lanes=r,s.return=e,s}}}var eo=Zi(!0),to=Zi(!1),no=F(null),ro=null;function ao(e){var t=e.alternate;j(lo,1&lo.current),j(no,e),null===ro&&(null===t||null!==fs.current||null!==t.memoizedState)&&(ro=e)}function so(e){if(22===e.tag){if(j(lo,lo.current),j(no,e),null===ro){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ro=e)}}else io()}function io(){j(lo,lo.current),j(no,no.current)}function oo(e){B(no),ro===e&&(ro=null),B(lo)}var lo=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||md(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function co(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nu(),a=rs(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=as(e,a,r))&&(Ou(t,0,r),ss(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nu(),a=rs(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=as(e,a,r))&&(Ou(t,0,r),ss(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nu(),r=rs(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=as(e,r,n))&&(Ou(t,0,n),ss(t,e,n))}};function ho(e,t,n,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!(t.prototype&&t.prototype.isPureReactComponent&&Yn(n,r)&&Yn(a,s))}function po(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function mo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var go="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){go(e)}function yo(e){console.error(e)}function vo(e){go(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function So(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function _o(e,t,n){return(n=rs(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function ko(e){return(e=rs(e)).tag=3,e}function Eo(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){So(t,n,r)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){So(t,n,r),"function"!=typeof a&&(null===ku?ku=new Set([this]):ku.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xo=Error(i(461)),To=!1;function Io(e,t,n,r){t.child=null===e?to(t,null,n,r):eo(t,e.child,n,r)}function Co(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Ea(t),r=Ps(e,t,n,i,s,a),o=zs(),null===e||To?(aa&&o&&ea(t),t.flags|=1,Io(e,t,r,a),t.child):(Os(e,t,a),Ko(e,t,a))}function Ro(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||Lr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Po(e,t,s,r,a))}if(s=e.child,!Yo(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(i,r)&&e.ref===t.ref)return Ko(e,t,a)}return t.flags|=1,(e=Dr(s,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Yn(s,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=s,!Yo(e,a))return t.lanes=e.lanes,Ko(e,t,a);131072&e.flags&&(To=!0)}}return zo(e,t,n,r,a)}function Ao(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Mo(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Mo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$a(0,null!==s?s.cachePool:null),null!==s?ps(t,s):ms(),so(t)}else null!==s?($a(0,s.cachePool),ps(t,s),io(),t.memoizedState=null):(null!==e&&$a(0,null),ms(),io());return Io(e,t,a,n),t.child}function Mo(e,t,n,r){var a=Ua();return a=null===a?null:{parent:Aa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&$a(0,null),ms(),so(t),null!==e&&_a(e,t,r,!0),null}function No(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function zo(e,t,n,r,a){return Ea(t),n=Ps(e,t,n,r,void 0,a),r=zs(),null===e||To?(aa&&r&&ea(t),t.flags|=1,Io(e,t,n,a),t.child):(Os(e,t,a),Ko(e,t,a))}function Oo(e,t,n,r,a,s){return Ea(t),t.updateQueue=null,n=Ms(t,r,n,a),As(e),r=zs(),null===e||To?(aa&&r&&ea(t),t.flags|=1,Io(e,t,n,s),t.child):(Os(e,t,s),Ko(e,t,s))}function Lo(e,t,n,r,a){if(Ea(t),null===t.stateNode){var s=Nr,i=n.contextType;"object"==typeof i&&null!==i&&(s=xa(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ts(t),i=n.contextType,s.context="object"==typeof i&&null!==i?xa(i):Nr,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(co(t,n,i,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,r,s,a),ls(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=mo(n,o);s.props=l;var u=s.context,c=n.contextType;i=Nr,"object"==typeof c&&null!==c&&(i=xa(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||u!==i)&&po(t,s,r,i),es=!1;var f=t.memoizedState;s.state=f,us(t,r,s,a),ls(),u=t.memoizedState,o||f!==u||es?("function"==typeof d&&(co(t,n,d,r),u=t.memoizedState),(l=es||ho(t,n,l,r,f,u,i))?(c||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=i,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ns(e,t),c=mo(n,i=t.memoizedProps),s.props=c,d=t.pendingProps,f=s.context,u=n.contextType,l=Nr,"object"==typeof u&&null!==u&&(l=xa(u)),(u="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||f!==l)&&po(t,s,r,l),es=!1,f=t.memoizedState,s.state=f,us(t,r,s,a),ls();var h=t.memoizedState;i!==d||f!==h||es||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"==typeof o&&(co(t,n,o,r),h=t.memoizedState),(c=es||ho(t,n,c,r,f,h,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,No(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=eo(t,e.child,null,a),t.child=eo(t,null,n,a)):Io(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Ko(e,t,a),e}function Do(e,t,n,r){return fa(),t.flags|=256,Io(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Ha()}}function jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mu),e}function Uo(e,t,n){var r,a=t.pendingProps,s=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&lo.current)),r&&(s=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(aa){if(s?ao(t):io(),aa){var l,u=ra;if(l=u){e:{for(l=u,u=ia;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=gd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Jr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=u,l.return=t,t.child=l,na=t,ra=null,l=!0):l=!1}l||la(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return md(u)?t.lanes=32:t.lanes=536870912,null;oo(t)}return u=a.children,a=a.fallback,s?(io(),u=Ho({mode:"hidden",children:u},s=t.mode),a=jr(a,s,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,(s=t.child).memoizedState=Bo(n),s.childLanes=jo(e,r,n),t.memoizedState=Fo,a):(ao(t),$o(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=Vo(e,t,n)):null!==t.memoizedState?(io(),t.child=e.child,t.flags|=128,t=null):(io(),s=a.fallback,u=t.mode,a=Ho({mode:"visible",children:a.children},u),(s=jr(s,u,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,eo(t,e.child,null,n),(a=t.child).memoizedState=Bo(n),a.childLanes=jo(e,r,n),t.memoizedState=Fo,t=s);else if(ao(t),md(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(a=Error(i(419))).stack="",a.digest=r,pa({value:a,source:null,stack:null}),t=Vo(e,t,n)}else if(To||_a(e,t,n,!1),r=0!==(n&e.childLanes),To||r){if(null!==(r=nu)&&0!==(a=0!==((a=42&(a=n&-n)?1:Ie(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane)throw l.retryLane=a,Pr(e,a),Ou(r,0,a),xo;"$?"===u.data||Wu(),t=Vo(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ra=gd(u.nextSibling),na=t,aa=!0,sa=null,ia=!1,null!==e&&(Qr[Kr++]=Jr,Qr[Kr++]=Gr,Qr[Kr++]=Yr,Jr=e.id,Gr=e.overflow,Yr=t),(t=$o(t,a.children)).flags|=4096);return t}return s?(io(),s=a.fallback,u=t.mode,c=(l=e.child).sibling,(a=Dr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?s=Dr(c,s):(s=jr(s,u,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(u=e.child.memoizedState)?u=Bo(n):(null!==(l=u.cachePool)?(c=Aa._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ha(),u={baseLanes:u.baseLanes|n,cachePool:l}),s.memoizedState=u,s.childLanes=jo(e,r,n),t.memoizedState=Fo,a):(ao(t),e=(n=e.child).sibling,(n=Dr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $o(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vo(e,t,n){return eo(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Wo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Io(e,t,r.children,n),2&(r=lo.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(j(lo,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Wo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_a(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!(Yo(e,n)||128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),ya(0,Aa,e.memoizedState.cache),fa();break;case 27:case 5:Q(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:ya(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(ao(t),null!==(e=Ko(e,t,n))?e.sibling:null);ao(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(_a(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),j(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n);case 24:ya(0,Aa,e.memoizedState.cache)}return Ko(e,t,n)}(e,t,n);To=!!(131072&e.flags)}else To=!1,aa&&1048576&t.flags&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((a=r.$$typeof)===S){t.tag=11,t=Co(null,t,r,e,n);break e}if(a===E){t.tag=14,t=Ro(null,t,r,e,n);break e}}throw t=A(r)||r,Error(i(306,t,""))}Lr(r)?(e=mo(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=zo(null,t,r,e,n))}return t;case 0:return zo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,a=mo(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,ns(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ya(0,Aa,r),r!==s.cache&&Sa(t,[Aa],n,!0),ls(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Do(e,t,r,n);break e}if(r!==a){pa(a=kr(Error(i(424)),t)),t=Do(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ra=gd(e.firstChild),na=t,aa=!0,sa=null,ia=!0,n=to(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Ko(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 26:return No(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:aa||(n=t.type,e=t.pendingProps,(r=nd(H.current).createElement(n))[Ae]=t,r[Me]=e,Zc(r,n,e),Ve(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&aa&&(r=t.stateNode=vd(t.type,t.pendingProps,H.current),na=t,ia=!0,a=ra,fd(t.type)?(bd=a,ra=gd(r.firstChild)):ra=a),Io(e,t,t.pendingProps.children,n),No(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&aa&&((a=r=ra)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=gd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ia))?(t.stateNode=r,na=t,ra=gd(r.firstChild),ia=!1,a=!0):a=!1),a||la(t)),Q(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,sd(a,s)?r=null:null!==o&&sd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ps(e,t,Ns,null,null,n),Qd._currentValue=a),No(e,t),Io(e,t,r,n),t.child;case 6:return null===e&&aa&&((e=n=ra)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,ia))?(t.stateNode=n,na=t,ra=null,e=!0):e=!1),e||la(t)),null;case 13:return Uo(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=eo(t,null,r,n):Io(e,t,r,n),t.child;case 11:return Co(e,t,t.type,t.pendingProps,n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ya(0,t.type,r.value),Io(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ea(t),r=r(a=xa(a)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Dr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ao(e,t,n);case 24:return Ea(t),r=xa(Aa),null===e?(null===(a=Ua())&&(a=nu,s=Ma(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},ts(t),ya(0,Aa,a)):(0!==(e.lanes&n)&&(ns(e,t),us(t,null,null,n),ls()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ya(0,Aa,r)):(r=s.cache,ya(0,Aa,r),r!==a.cache&&Sa(t,[Aa],n,!0))),Io(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Go(e){e.flags|=4}function Xo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!jd(t)){if(null!==(t=no.current)&&((4194048&au)===au?null!==ro:(62914560&au)!==au&&!(536870912&au)||t!==ro))throw Ga=Qa,qa;e.flags|=8192}}function Zo(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,gu|=t)}function el(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return tl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),va(Aa),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(da(t)?Go(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ha())),tl(t),null;case 26:return n=t.memoizedState,null===e?(Go(t),null!==n?(tl(t),Xo(t,n)):(tl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Go(t),tl(t),Xo(t,n)):(tl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Go(t),tl(t),t.flags&=-16777217),null;case 27:K(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Go(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return tl(t),null}e=U.current,da(t)?ua(t):(e=vd(a,r,n),t.stateNode=e,Go(t))}return tl(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Go(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return tl(t),null}if(e=U.current,da(t))ua(t);else{switch(a=nd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ae]=t,e[Me]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Zc(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Go(t)}}return tl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Go(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(e=H.current,da(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=na))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||la(t)}else(e=nd(e).createTextNode(r))[Ae]=t,t.stateNode=e}return tl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Ae]=t}else fa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),a=!1}else a=ha(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(oo(t),t):(oo(t),null)}if(oo(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Zo(t,t.updateQueue),tl(t),null;case 4:return W(),null===e&&Bc(t.stateNode.containerInfo),tl(t),null;case 10:return va(t.type),tl(t),null;case 19:if(B(lo),null===(a=t.memoizedState))return tl(t),null;if(r=!!(128&t.flags),null===(s=a.rendering))if(r)el(a,!1);else{if(0!==du||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,el(a,!1),e=s.updateQueue,t.updateQueue=e,Zo(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return j(lo,1&lo.current|2),t.child}e=e.sibling}null!==a.tail&&ee()>Su&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Zo(t,e),el(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!aa)return tl(t),null}else 2*ee()-a.renderingStartTime>Su&&536870912!==n&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ee(),t.sibling=null,e=lo.current,j(lo,r?1&e|2:1&e),t):(tl(t),null);case 22:case 23:return oo(t),gs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null!==(n=t.updateQueue)&&Zo(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(ja),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),va(Aa),tl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function rl(e,t){switch(ta(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return va(Aa),W(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(oo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(lo),null;case 4:return W(),null;case 10:return va(t.type),null;case 22:case 23:return oo(t),gs(),null!==e&&B(ja),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return va(Aa),null;default:return null}}function al(e,t){switch(ta(t),t.tag){case 3:va(Aa),W();break;case 26:case 27:case 5:K(t);break;case 4:W();break;case 13:oo(t);break;case 19:B(lo);break;case 10:va(t.type);break;case 22:case 23:oo(t),gs(),null!==e&&B(ja);break;case 24:va(Aa)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(e){uc(t,t.return,e)}}function il(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,u=o;try{u()}catch(e){uc(a,l,e)}}}r=r.next}while(r!==s)}}catch(e){uc(t,t.return,e)}}function ol(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(t){uc(e,e.return,t)}}}function ll(e,t,n){n.props=mo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){uc(e,t,n)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){uc(e,t,n)}}function cl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){uc(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){uc(e,t,n)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){uc(e,e.return,t)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,u=null,c=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":u=f;default:r.hasOwnProperty(p)||Gc(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=p||null!=f))switch(h){case"type":s=p;break;case"name":a=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==f&&Gc(e,t,h,p,r,f)}}return void mt(e,o,l,u,c,d,s,a);case"select":for(s in p=o=l=h=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(s)||Gc(e,t,s,null,r,u)}for(a in r)if(s=r[a],u=n[a],r.hasOwnProperty(a)&&(null!=s||null!=u))switch(a){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==u&&Gc(e,t,a,s,r,u)}return t=l,n=o,r=p,void(null!=h?yt(e,!!n,h,!1):!!r!=!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=h=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Gc(e,t,l,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":h=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&Gc(e,t,o,a,r,s)}return void vt(e,h,p);case"option":for(var m in n)h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:Gc(e,t,m,null,r,h));for(u in r)h=r[u],p=n[u],!r.hasOwnProperty(u)||h===p||null==h&&null==p||("selected"===u?e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h:Gc(e,t,u,h,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Gc(e,t,g,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Gc(e,t,c,h,r,p)}return;default:if(xt(t)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&void 0!==h&&!r.hasOwnProperty(b)&&Xc(e,t,b,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Xc(e,t,d,h,r,p);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&Gc(e,t,y,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||null==h&&null==p||Gc(e,t,f,h,r,p)}(r,e.type,n,t),r[Me]=t}catch(t){uc(e,e.return,t)}}function hl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function pl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jc));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Zc(t,r,n),t[Ae]=e,t[Me]=n}catch(t){uc(e,e.return,t)}}var yl=!1,vl=!1,wl=!1,Sl="function"==typeof WeakSet?WeakSet:Set,_l=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){uc(n,n.return,e)}else{var a=mo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){uc(n,n.return,e)}}64&r&&ol(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(e){uc(n,n.return,e)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Rl(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=hc.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||vl,a=yl;var s=vl;yl=r,(vl=t)&&!s?Fl(e,n,!!(8772&n.subtreeFlags)):Ll(e,n),yl=a,vl=s}break;case 30:break;default:Ll(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Be(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xl=null,Tl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Cl(e,t,n),n=n.sibling}function Cl(e,t,n){if(ce&&"function"==typeof ce.onCommitFiberUnmount)try{ce.onCommitFiberUnmount(ue,n)}catch(e){}switch(n.tag){case 26:vl||cl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vl||cl(n,t);var r=xl,a=Tl;fd(n.type)&&(xl=n.stateNode,Tl=!1),Il(e,t,n),wd(n.stateNode),xl=r,Tl=a;break;case 5:vl||cl(n,t);case 6:if(r=xl,a=Tl,xl=null,Il(e,t,n),Tl=a,null!==(xl=r))if(Tl)try{(9===xl.nodeType?xl.body:"HTML"===xl.nodeName?xl.ownerDocument.body:xl).removeChild(n.stateNode)}catch(e){uc(n,t,e)}else try{xl.removeChild(n.stateNode)}catch(e){uc(n,t,e)}break;case 18:null!==xl&&(Tl?(hd(9===(e=xl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),xf(e)):hd(xl,n.stateNode));break;case 4:r=xl,a=Tl,xl=n.stateNode.containerInfo,Tl=!0,Il(e,t,n),xl=r,Tl=a;break;case 0:case 11:case 14:case 15:vl||il(2,n,t),vl||il(4,n,t),Il(e,t,n);break;case 1:vl||(cl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&ll(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:vl=(r=vl)||null!==n.memoizedState,Il(e,t,n),vl=r;break;default:Il(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{xf(e)}catch(e){uc(t,t.return,e)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Al(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){xl=l.stateNode,Tl=!1;break e}break;case 5:xl=l.stateNode,Tl=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===xl)throw Error(i(160));Cl(s,o,a),xl=null,Tl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}var Ml=null;function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),zl(e),4&r&&(il(3,e,e.return),sl(3,e),il(5,e,e.return));break;case 1:Al(t,e),zl(e),512&r&&(vl||null===n||cl(n,n.return)),64&r&&yl&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var a=Ml;if(Al(t,e),zl(e),512&r&&(vl||null===n||cl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Fe]||s[Ae]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),Zc(s,r,n),s[Ae]=e,Ve(s),r=s;break e;case"link":var o=Fd("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Zc(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(o=Fd("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Zc(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[Ae]=e,Ve(s),r=s}e.stateNode=r}else Bd(a,e.type,e.stateNode);else e.stateNode=Nd(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Bd(a,e.type,e.stateNode):Nd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Al(t,e),zl(e),512&r&&(vl||null===n||cl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Al(t,e),zl(e),512&r&&(vl||null===n||cl(n,n.return)),32&e.flags){a=e.stateNode;try{St(a,"")}catch(t){uc(e,e.return,t)}}4&r&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Al(t,e),zl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){uc(e,e.return,t)}}break;case 3:if(Dd=null,a=Ml,Ml=kd(t.containerInfo),Al(t,e),Ml=a,zl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{xf(t.containerInfo)}catch(t){uc(e,e.return,t)}wl&&(wl=!1,Ol(e));break;case 4:r=Ml,Ml=kd(e.stateNode.containerInfo),Al(t,e),zl(e),Ml=r;break;case 12:default:Al(t,e),zl(e);break;case 13:Al(t,e),zl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wu=ee()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r));break;case 22:a=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=yl,d=vl;if(yl=c||a,vl=d||u,Al(t,e),vl=d,yl=c,zl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||u||yl||vl||Dl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,a)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=u.stateNode;var f=u.memoizedProps.style,h=null!=f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(e){uc(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(e){uc(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n));break;case 19:Al(t,e),zl(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r));case 30:case 21:}}function zl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(hl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;gl(e,pl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),gl(e,pl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;ml(e,pl(e),o);break;default:throw Error(i(161))}}catch(t){uc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ol(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Dl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:il(4,t,t.return),Dl(t);break;case 1:cl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&ll(t,t.return,n),Dl(t);break;case 27:wd(t.stateNode);case 26:case 5:cl(t,t.return),Dl(t);break;case 22:null===t.memoizedState&&Dl(t);break;default:Dl(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Fl(a,s,n),sl(4,s);break;case 1:if(Fl(a,s,n),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(e){uc(r,r.return,e)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)cs(l[a],o)}catch(e){uc(r,r.return,e)}}n&&64&i&&ol(s),ul(s,s.return);break;case 27:bl(s);case 26:case 5:Fl(a,s,n),n&&null===r&&4&i&&dl(s),ul(s,s.return);break;case 12:Fl(a,s,n);break;case 13:Fl(a,s,n),n&&4&i&&Rl(a,s);break;case 22:null===s.memoizedState&&Fl(a,s,n),ul(s,s.return);break;case 30:break;default:Fl(a,s,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Na(n))}function jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Na(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&a&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Na(e)));break;case 12:if(2048&a){Ul(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){uc(t,t.return,e)}}else Ul(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Ul(e,t,n,r):Vl(e,t):2&s._visibility?Ul(e,t,n,r):(s._visibility|=2,Hl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&a&&Bl(i,t);break;case 24:Ul(e,t,n,r),2048&a&&jl(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:Hl(s,i,o,l,a),sl(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?2&c._visibility?Hl(s,i,o,l,a):Vl(s,i):(c._visibility|=2,Hl(s,i,o,l,a)),a&&2048&u&&Bl(i.alternate,i);break;case 24:Hl(s,i,o,l,a),a&&2048&u&&jl(i.alternate,i);break;default:Hl(s,i,o,l,a)}t=t.sibling}}function Vl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Vl(n,r),2048&a&&Bl(r.alternate,r);break;case 24:Vl(n,r),2048&a&&jl(r.alternate,r);break;default:Vl(n,r)}t=t.sibling}}var ql=8192;function Wl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Wl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(i(475));var r=Ud;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Cd(n.href),s=e.querySelector(Rd(a));if(s)return null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Ve(s);s=e.ownerDocument||e,n=Pd(n),(a=Sd.get(a))&&Od(n,a),Ve(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Zc(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Ml;Ml=kd(e.stateNode.containerInfo),Wl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Wl(e),ql=t):Wl(e))}}function Kl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Xl(r,e)}Kl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&il(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Gl(e)):Yl(e)}}function Gl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Xl(r,e)}Kl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:il(8,t,t.return),Gl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Gl(t));break;default:Gl(t)}e=e.sibling}}function Xl(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:il(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Na(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var a=(r=_l).sibling,s=r.return;if(El(r),r===n){_l=null;break e}if(null!==a){a.return=s,_l=a;break e}_l=s}}}var Zl={getCacheForType:function(e){var t=xa(Aa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},eu="function"==typeof WeakMap?WeakMap:Map,tu=0,nu=null,ru=null,au=0,su=0,iu=null,ou=!1,lu=!1,uu=!1,cu=0,du=0,fu=0,hu=0,pu=0,mu=0,gu=0,bu=null,yu=null,vu=!1,wu=0,Su=1/0,_u=null,ku=null,Eu=0,xu=null,Tu=null,Iu=0,Cu=0,Ru=null,Pu=null,Au=0,Mu=null;function Nu(){return 2&tu&&0!==au?au&-au:null!==N.T?0!==La?La:Cc():Re()}function zu(){0===mu&&(mu=536870912&au&&!aa?536870912:Se());var e=no.current;return null!==e&&(e.flags|=32),mu}function Ou(e,t,n){(e!==nu||2!==su&&9!==su)&&null===e.cancelPendingCommit||($u(e,0),Bu(e,au,mu,!1)),Ee(e,n),2&tu&&e===nu||(e===nu&&(!(2&tu)&&(hu|=n),4===du&&Bu(e,au,mu,!1)),Sc(e))}function Lu(e,t,n){if(6&tu)throw Error(i(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||ve(e,t),a=r?function(e,t){var n=tu;tu|=2;var r=Vu(),a=qu();nu!==e||au!==t?(_u=null,Su=ee()+500,$u(e,t)):lu=ve(e,t);e:for(;;)try{if(0!==su&&null!==ru){t=ru;var s=iu;t:switch(su){case 1:su=0,iu=null,Xu(e,t,s,1);break;case 2:case 9:if(Ka(s)){su=0,iu=null,Gu(t);break}t=function(){2!==su&&9!==su||nu!==e||(su=7),Sc(e)},s.then(t,t);break e;case 3:su=7;break e;case 4:su=5;break e;case 7:Ka(s)?(su=0,iu=null,Gu(t)):(su=0,iu=null,Xu(e,t,s,7));break;case 5:var o=null;switch(ru.tag){case 26:o=ru.memoizedState;case 5:case 27:var l=ru;if(!o||jd(o)){su=0,iu=null;var u=l.sibling;if(null!==u)ru=u;else{var c=l.return;null!==c?(ru=c,Zu(c)):ru=null}break t}}su=0,iu=null,Xu(e,t,s,5);break;case 6:su=0,iu=null,Xu(e,t,s,6);break;case 8:Uu(),du=6;break e;default:throw Error(i(462))}}Yu();break}catch(t){Hu(e,t)}return ba=ga=null,N.H=r,N.A=a,tu=n,null!==ru?0:(nu=null,au=0,Ir(),du)}(e,t):Qu(e,t,!0),s=r;;){if(0===a){lu&&!r&&Bu(e,t,0,!1);break}if(n=e.current.alternate,!s||Fu(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=bu;var u=l.current.memoizedState.isDehydrated;if(u&&($u(l,o).flags|=256),2!==(o=Qu(l,o,!1))){if(uu&&!u){l.errorRecoveryDisabledLanes|=s,hu|=s,a=4;break e}s=yu,yu=a,null!==s&&(null===yu?yu=s:yu.push.apply(yu,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){$u(e,0),Bu(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Bu(r,t,mu,!ou);break e;case 2:yu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=wu+300-ee())){if(Bu(r,t,mu,!ou),0!==ye(r,0,!0))break e;r.timeoutHandle=od(Du.bind(null,r,n,yu,_u,vu,t,mu,hu,gu,ou,s,2,-0,0),a)}else Du(r,n,yu,_u,vu,t,mu,hu,gu,ou,s,0,-0,0)}break}a=Qu(e,t,!1),s=!1}Sc(e)}function Du(e,t,n,r,a,s,o,l,u,c,d,f,h,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||!(16785408&~f))&&(Ud={stylesheets:null,count:0,unsuspend:$d},Ql(t),null!==(f=function(){if(null===Ud)throw Error(i(475));var e=Ud;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(tc.bind(null,e,t,s,n,r,a,o,l,u,d,1,h,p)),void Bu(e,s,o,!c);tc(e,t,s,n,r,a,o,l,u)}function Fu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Kn(s(),a))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bu(e,t,n,r){t&=~pu,t&=~hu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-fe(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&xe(e,n,t)}function ju(){return!!(6&tu)||(_c(0,!1),!1)}function Uu(){if(null!==ru){if(0===su)var e=ru.return;else ba=ga=null,Ls(e=ru),Qi=null,Ki=0,e=ru;for(;null!==e;)al(e.alternate,e),e=e.return;ru=null}}function $u(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ld(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uu(),nu=e,ru=n=Dr(e.current,null),au=t,su=0,iu=null,ou=!1,lu=ve(e,t),uu=!1,gu=mu=pu=hu=fu=du=0,yu=bu=null,vu=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),s=1<<a;t|=e[a],r&=~s}return cu=t,Ir(),n}function Hu(e,t){ys=null,N.H=Hi,t===Va||t===Wa?(t=Xa(),su=3):t===qa?(t=Xa(),su=4):su=t===xo?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,iu=t,null===ru&&(du=1,wo(e,kr(t,e.current)))}function Vu(){var e=N.H;return N.H=Hi,null===e?Hi:e}function qu(){var e=N.A;return N.A=Zl,e}function Wu(){du=4,ou||(4194048&au)!==au&&null!==no.current||(lu=!0),!(134217727&fu)&&!(134217727&hu)||null===nu||Bu(nu,au,mu,!1)}function Qu(e,t,n){var r=tu;tu|=2;var a=Vu(),s=qu();nu===e&&au===t||(_u=null,$u(e,t)),t=!1;var i=du;e:for(;;)try{if(0!==su&&null!==ru){var o=ru,l=iu;switch(su){case 8:Uu(),i=6;break e;case 3:case 2:case 9:case 6:null===no.current&&(t=!0);var u=su;if(su=0,iu=null,Xu(e,o,l,u),n&&lu){i=0;break e}break;default:u=su,su=0,iu=null,Xu(e,o,l,u)}}Ku(),i=du;break}catch(t){Hu(e,t)}return t&&e.shellSuspendCounter++,ba=ga=null,tu=r,N.H=a,N.A=s,null===ru&&(nu=null,au=0,Ir()),i}function Ku(){for(;null!==ru;)Ju(ru)}function Yu(){for(;null!==ru&&!X();)Ju(ru)}function Ju(e){var t=Jo(e.alternate,e,cu);e.memoizedProps=e.pendingProps,null===t?Zu(e):ru=t}function Gu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,au);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,au);break;case 5:Ls(t);default:al(n,t),t=Jo(n,t=ru=Fr(t,cu),cu)}e.memoizedProps=e.pendingProps,null===t?Zu(e):ru=t}function Xu(e,t,n,r){ba=ga=null,Ls(t),Qi=null,Ki=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&_a(t,n,a,!0),null!==(n=no.current)){switch(n.tag){case 13:return null===ro?Wu():null===n.alternate&&0===du&&(du=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),cc(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),cc(e,r,a)),!1}throw Error(i(435,n.tag))}return cc(e,r,a),Wu(),!1}if(aa)return null!==(t=no.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==oa&&pa(kr(e=Error(i(422),{cause:r}),n))):(r!==oa&&pa(kr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),is(e,a=_o(e.stateNode,r,a)),4!==du&&(du=2)),!1;var s=Error(i(520),{cause:r});if(s=kr(s,n),null===bu?bu=[s]:bu.push(s),4!==du&&(du=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,is(n,e=_o(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==ku&&ku.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Eo(a=ko(a),e,n,r),is(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,au))return du=1,wo(e,kr(n,e.current)),void(ru=null)}catch(t){if(null!==a)throw ru=a,t;return du=1,wo(e,kr(n,e.current)),void(ru=null)}32768&t.flags?(aa||1===r?e=!0:lu||536870912&au?e=!1:(ou=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=no.current)&&13===r.tag&&(r.flags|=16384)),ec(t,e)):Zu(t)}function Zu(e){var t=e;do{if(32768&t.flags)return void ec(t,ou);e=t.return;var n=nl(t.alternate,t,cu);if(null!==n)return void(ru=n);if(null!==(t=t.sibling))return void(ru=t);ru=t=e}while(null!==t);0===du&&(du=5)}function ec(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(ru=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ru=e);ru=e=n}while(null!==e);du=6,ru=null}function tc(e,t,n,r,a,s,o,l,u){e.cancelPendingCommit=null;do{ic()}while(0!==Eu);if(6&tu)throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var c=31-fe(n),d=1<<c;o[c]=0,l[c]=-1;var f=u[c];if(null!==f)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&xe(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Tr,o,l,u),e===nu&&(ru=nu=null,au=0),Tu=t,xu=e,Iu=n,Cu=s,Ru=a,Pu=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,J(ae,function(){return oc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=N.T,N.T=null,a=z.p,z.p=2,o=tu,tu|=4;try{!function(e,t){if(e=e.containerInfo,ed=Zd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=o+a),f!==s||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=o),h===s&&++d===r&&(u=o),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:e,selectionRange:n},Zd=!1,_l=t;null!==_l;)if(e=(t=_l).child,1024&t.subtreeFlags&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(s=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=mo(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){uc(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{tu=o,z.p=a,N.T=r}}Eu=1,nc(),rc(),ac()}}function nc(){if(1===Eu){Eu=0;var e=xu,t=Tu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=N.T,N.T=null;var r=z.p;z.p=2;var a=tu;tu|=4;try{Nl(t,e);var s=td,i=Zn(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Xn(o.ownerDocument.documentElement,o)){if(null!==l&&er(o)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!h.extend&&m>g&&(i=g,g=m,m=i);var b=Gn(o,m),y=Gn(o,g);if(b&&y&&(1!==h.rangeCount||h.anchorNode!==b.node||h.anchorOffset!==b.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var v=d.createRange();v.setStart(b.node,b.offset),h.removeAllRanges(),m>g?(h.addRange(v),h.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),h.addRange(v))}}}}for(d=[],h=o;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Zd=!!ed,td=ed=null}finally{tu=a,z.p=r,N.T=n}}e.current=t,Eu=2}}function rc(){if(2===Eu){Eu=0;var e=xu,t=Tu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=N.T,N.T=null;var r=z.p;z.p=2;var a=tu;tu|=4;try{kl(e,t.alternate,t)}finally{tu=a,z.p=r,N.T=n}}Eu=3}}function ac(){if(4===Eu||3===Eu){Eu=0,Z();var e=xu,t=Tu,n=Iu,r=Pu;10256&t.subtreeFlags||10256&t.flags?Eu=5:(Eu=0,Tu=xu=null,sc(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(ku=null),Ce(n),t=t.stateNode,ce&&"function"==typeof ce.onCommitFiberRoot)try{ce.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=N.T,a=z.p,z.p=2,N.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{N.T=t,z.p=a}}3&Iu&&ic(),Sc(e),a=e.pendingLanes,4194090&n&&42&a?e===Mu?Au++:(Au=0,Mu=e):Au=0,_c(0,!1)}}function sc(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Na(t))}function ic(e){return nc(),rc(),ac(),oc()}function oc(){if(5!==Eu)return!1;var e=xu,t=Cu;Cu=0;var n=Ce(Iu),r=N.T,a=z.p;try{z.p=32>n?32:n,N.T=null,n=Ru,Ru=null;var s=xu,o=Iu;if(Eu=0,Tu=xu=null,Iu=0,6&tu)throw Error(i(331));var l=tu;if(tu|=4,Jl(s.current),$l(s,s.current,o,n),tu=l,_c(0,!1),ce&&"function"==typeof ce.onPostCommitFiberRoot)try{ce.onPostCommitFiberRoot(ue,s)}catch(e){}return!0}finally{z.p=a,N.T=r,sc(e,t)}}function lc(e,t,n){t=kr(n,t),null!==(e=as(e,t=_o(e.stateNode,t,2),2))&&(Ee(e,2),Sc(e))}function uc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ku||!ku.has(r))){e=kr(n,e),null!==(r=as(t,n=ko(2),2))&&(Eo(n,r,t,e),Ee(r,2),Sc(r));break}}t=t.return}}function cc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new eu;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uu=!0,a.add(n),e=dc.bind(null,e,t,n),t.then(e,e))}function dc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nu===e&&(au&n)===n&&(4===du||3===du&&(62914560&au)===au&&300>ee()-wu?!(2&tu)&&$u(e,0):pu|=n,gu===au&&(gu=0)),Sc(e)}function fc(e,t){0===t&&(t=_e()),null!==(e=Pr(e,t))&&(Ee(e,t),Sc(e))}function hc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fc(e,n)}function pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),fc(e,n)}var mc=null,gc=null,bc=!1,yc=!1,vc=!1,wc=0;function Sc(e){e!==gc&&null===e.next&&(null===gc?mc=gc=e:gc=gc.next=e),yc=!0,bc||(bc=!0,cd(function(){6&tu?J(ne,kc):Ec()}))}function _c(e,t){if(!vc&&yc){vc=!0;do{for(var n=!1,r=mc;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Ic(r,s))}else s=au,!(3&(s=ye(r,r===nu?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ve(r,s)||(n=!0,Ic(r,s));r=r.next}}while(n);vc=!1}}function kc(){Ec()}function Ec(){yc=bc=!1;var e,t=0;0!==wc&&(((e=window.event)&&"popstate"===e.type?e!==id&&(id=e,!0):(id=null,!1))&&(t=wc),wc=0);for(var n=ee(),r=null,a=mc;null!==a;){var s=a.next,i=xc(a,n);0===i?(a.next=null,null===r?mc=s:r.next=s,null===s&&(gc=r)):(r=a,(0!==t||3&i)&&(yc=!0)),a=s}_c(t,!1)}function xc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-fe(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=au,n=ye(e,e===(t=nu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===su||9===su)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&G(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&G(r),Ce(n)){case 2:case 8:n=re;break;case 32:default:n=ae;break;case 268435456:n=ie}return r=Tc.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&G(r),e.callbackPriority=2,e.callbackNode=null,2}function Tc(e,t){if(0!==Eu&&5!==Eu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var r=au;return 0===(r=ye(e,e===nu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lu(e,r,t),xc(e,ee()),null!=e.callbackNode&&e.callbackNode===n?Tc.bind(null,e):null)}function Ic(e,t){if(ic())return null;Lu(e,t,!0)}function Cc(){return 0===wc&&(wc=Se()),wc}function Rc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ct(""+e)}function Pc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ac=0;Ac<wr.length;Ac++){var Mc=wr[Ac];Sr(Mc.toLowerCase(),"on"+(Mc[0].toUpperCase()+Mc.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(hr,"onAnimationIteration"),Sr(pr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(mr,"onTransitionRun"),Sr(gr,"onTransitionStart"),Sr(br,"onTransitionCancel"),Sr(yr,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function Oc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=u;try{s(a)}catch(e){go(e)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,u=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=u;try{s(a)}catch(e){go(e)}a.currentTarget=null,s=l}}}}function Lc(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(jc(t,e,2,!1),n.add(r))}function Dc(e,t,n){var r=0;t&&(r|=4),jc(n,e,r,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Bc(e){if(!e[Fc]){e[Fc]=!0,qe.forEach(function(t){"selectionchange"!==t&&(zc.has(t)||Dc(t,!1,e),Dc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fc]||(t[Fc]=!0,Dc("selectionchange",!1,t))}}function jc(e,t,n,r){switch(of(t)){case 2:var a=ef;break;case 8:a=tf;break;default:a=nf}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uc(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==l;){if(null===(i=je(l)))return;if(5===(u=i.tag)||6===u||26===u||27===u){r=s=i;continue e}l=l.parentNode}}r=r.return}Ot(function(){var r=s,a=Pt(n),i=[];e:{var l=vr.get(e);if(void 0!==l){var u=Xt,c=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":u=pn;break;case"focusin":c="focus",u=an;break;case"focusout":c="blur",u=an;break;case"beforeblur":case"afterblur":u=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=gn;break;case fr:case hr:case pr:u=sn;break;case yr:u=bn;break;case"scroll":case"scrollend":u=en;break;case"wheel":u=yn;break;case"copy":case"cut":case"paste":u=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=mn;break;case"toggle":case"beforetoggle":u=vn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),h=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=Lt(m,h))&&d.push($c(m,g,p)),f)break;m=m.return}0<d.length&&(l=new u(l,c,null,n,a),i.push({event:l,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!je(c)&&!c[Ne])&&(u||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?je(c):null)&&(f=o(c),d=c.tag,c!==f||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=nn,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=mn,g="onPointerLeave",h="onPointerEnter",m="pointer"),f=null==u?l:$e(u),p=null==c?l:$e(c),(l=new d(g,m+"leave",u,n,a)).target=f,l.relatedTarget=p,g=null,je(a)===r&&((d=new d(h,m+"enter",c,n,a)).target=p,d.relatedTarget=f,g=d),f=g,u&&c)e:{for(h=c,m=0,p=d=u;p;p=Vc(p))m++;for(p=0,g=h;g;g=Vc(g))p++;for(;0<m-p;)d=Vc(d),m--;for(;0<p-m;)h=Vc(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Vc(d),h=Vc(h)}d=null}else d=null;null!==u&&qc(i,l,u,d,!1),null!==c&&null!==f&&qc(i,f,c,d,!0)}if("select"===(u=(l=r?$e(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var b=Dn;else if(An(l))if(Fn)b=Qn;else{b=qn;var y=Vn}else!(u=l.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&xt(r.elementType)&&(b=Dn):b=Wn;switch(b&&(b=b(e,r))?Mn(i,b,n,a):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&bt(l,"number",l.value)),y=r?$e(r):window,e){case"focusin":(An(y)||"true"===y.contentEditable)&&(nr=y,rr=r,ar=null);break;case"focusout":ar=rr=nr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ir(i,n,a);break;case"selectionchange":if(tr)break;case"keydown":case"keyup":ir(i,n,a)}var v;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(v=Ht()):(Ut="value"in(jt=a)?jt.value:jt.textContent,Rn=!0)),0<(y=Hc(r,w)).length&&(w=new ln(w,e,null,n,a),i.push({event:w,listeners:y}),(v||null!==(v=Cn(n)))&&(w.data=v))),(v=kn?function(e,t){switch(e){case"compositionend":return Cn(t);case"keypress":return 32!==t.which?null:(Tn=!0,xn);case"textInput":return(e=t.data)===xn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Sn&&In(e,t)?(e=Ht(),$t=Ut=jt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=Hc(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,a),i.push({event:y,listeners:w}),y.data=v),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Rc((a[Me]||null).action),i=r.submitter;i&&null!==(t=(t=i[Me]||null)?Rc(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new Xt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wc){var e=i?Pc(a,i):new FormData(a);Ri(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=i?Pc(a,i):new FormData(a),Ri(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Oc(i,t)})}function $c(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Lt(e,n))&&r.unshift($c(e,a,s)),null!=(a=Lt(e,t))&&r.push($c(e,a,s))),3===e.tag)return r;e=e.return}return[]}function Vc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qc(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,a?null!=(u=Lt(n,s))&&i.unshift($c(n,u,l)):a||null!=(u=Lt(n,s))&&i.push($c(n,u,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Wc=/\r\n?/g,Qc=/\u0000|\uFFFD/g;function Kc(e){return("string"==typeof e?e:""+e).replace(Wc,"\n").replace(Qc,"")}function Yc(e,t){return t=Kc(t),Kc(e)===t}function Jc(){}function Gc(e,t,n,r,a,s){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&St(e,""+r);break;case"className":tt(e,"class",r);break;case"tabIndex":tt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":tt(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){tt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&Gc(e,t,"name",a.name,a,null),Gc(e,t,"formEncType",a.formEncType,a,null),Gc(e,t,"formMethod",a.formMethod,a,null),Gc(e,t,"formTarget",a.formTarget,a,null)):(Gc(e,t,"encType",a.encType,a,null),Gc(e,t,"method",a.method,a,null),Gc(e,t,"target",a.target,a,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Jc);break;case"onScroll":null!=r&&Lc("scroll",e);break;case"onScrollEnd":null!=r&&Lc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lc("beforetoggle",e),Lc("toggle",e),et(e,"popover",r);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":et(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&et(e,n=Tt.get(n)||n,r)}}function Xc(e,t,n,r,a,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"==typeof r?St(e,r):("number"==typeof r||"bigint"==typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Lc("scroll",e);break;case"onScrollEnd":null!=r&&Lc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(s=null!=(s=e[Me]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):et(e,n,r):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function Zc(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lc("error",e),Lc("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Gc(e,t,r,o,n,null)}}return s&&Gc(e,t,"srcSet",n.srcSet,n,null),void(a&&Gc(e,t,"src",n.src,n,null));case"input":Lc("invalid",e);var l=r=o=s=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Gc(e,t,a,d,n,null)}}return gt(e,r,l,u,c,o,s,!1),void ct(e);case"select":for(s in Lc("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Gc(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?yt(e,!!a,t,!1):null!=n&&yt(e,!!a,n,!0));case"textarea":for(o in Lc("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Gc(e,t,o,l,n,null)}return wt(e,a,s,r),void ct(e);case"option":for(u in n)n.hasOwnProperty(u)&&null!=(a=n[u])&&("selected"===u?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:Gc(e,t,u,a,n,null));return;case"dialog":Lc("beforetoggle",e),Lc("toggle",e),Lc("cancel",e),Lc("close",e);break;case"iframe":case"object":Lc("load",e);break;case"video":case"audio":for(a=0;a<Nc.length;a++)Lc(Nc[a],e);break;case"image":Lc("error",e),Lc("load",e);break;case"details":Lc("toggle",e);break;case"embed":case"source":case"link":Lc("error",e),Lc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Gc(e,t,c,a,n,null)}return;default:if(xt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(a=n[d])&&Xc(e,t,d,a,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(a=n[l])&&Gc(e,t,l,a,n,null)}var ed=null,td=null;function nd(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var id=null,od="function"==typeof setTimeout?setTimeout:void 0,ld="function"==typeof clearTimeout?clearTimeout:void 0,ud="function"==typeof Promise?Promise:void 0,cd="function"==typeof queueMicrotask?queueMicrotask:void 0!==ud?function(e){return ud.resolve(null).then(e).catch(dd)}:od;function dd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function hd(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===a)return e.removeChild(s),void xf(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);xf(t)}function pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function md(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function yd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vd(e,t,n){switch(t=nd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Sd=new Map,_d=new Set;function kd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=z.d;z.d={f:function(){var e=Ed.f(),t=ju();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ai(t):Ed.r(e)},D:function(e){Ed.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=xd;if(r&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+pt(n.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var s=a;switch(t){case"style":s=Cd(e);break;case"script":s=Ad(e)}Sd.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Rd(s))||"script"===t&&r.querySelector(Md(s))||(Zc(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=xd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ad(e)}if(!Sd.has(s)&&(e=d({rel:"modulepreload",href:e},t),Sd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(s)))return}Zc(r=n.createElement("link"),"link",e),Ve(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=xd;if(n&&e){var r=He(n).hoistableScripts,a=Ad(e),s=r.get(a);s||((s=n.querySelector(Md(a)))||(e=d({src:e,async:!0},t),(t=Sd.get(a))&&Ld(e,t),Ve(s=n.createElement("script")),Zc(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Ed.S(e,t,n);var r=xd;if(r&&e){var a=He(r).hoistableStyles,s=Cd(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Rd(s)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(s))&&Od(e,n);var l=i=r.createElement("link");Ve(l),Zc(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,zd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Ed.M(e,t);var n=xd;if(n&&e){var r=He(n).hoistableScripts,a=Ad(e),s=r.get(a);s||((s=n.querySelector(Md(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=Sd.get(a))&&Ld(e,t),Ve(s=n.createElement("script")),Zc(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var xd="undefined"==typeof document?null:document;function Td(e,t,n){var r=xd;if(r&&"string"==typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),_d.has(a)||(_d.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(Zc(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}}function Id(e,t,n,r){var a,s,o,l,u=(u=H.current)?kd(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Cd(n.href),(r=(n=He(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Cd(n.href);var c=He(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Rd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),c||(a=u,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Zc(s,"link",o),Ve(s),a.head.appendChild(s))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Ad(n),(r=(n=He(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Cd(e){return'href="'+pt(e)+'"'}function Rd(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Ad(e){return'[src="'+pt(e)+'"]'}function Md(e){return"script[async]"+e}function Nd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(r)return t.instance=r,Ve(r),r;var a=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(r=(e.ownerDocument||e).createElement("style")),Zc(r,"style",a),zd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Cd(n.href);var s=e.querySelector(Rd(a));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;r=Pd(n),(a=Sd.get(a))&&Od(r,a),Ve(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Zc(s,"link",r),t.state.loading|=4,zd(s,n.precedence,e),t.instance=s;case"script":return s=Ad(n.src),(a=e.querySelector(Md(s)))?(t.instance=a,Ve(a),a):(r=n,(a=Sd.get(s))&&Ld(r=d({},n),a),Ve(a=(e=e.ownerDocument||e).createElement("script")),Zc(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,zd(r,n.precedence,e));return t.instance}function zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Dd=null;function Fd(e,t,n){if(null===Dd){var r=new Map,a=Dd=new Map;a.set(n,r)}else(r=(a=Dd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Fe]||s[Ae]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function jd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Ud=null;function $d(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vd=new Map,t.forEach(Wd,e),Vd=null,Hd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Vd.get(e);if(n)var r=n.get(null);else{n=new Map,Vd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Kd(e,t,n,r,a,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yd(e,t,n,r,a,s){a=function(e){return e?e=Nr:Nr}(a),null===r.context?r.context=a:r.pendingContext=a,(r=rs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=as(e,r,t))&&(Ou(n,0,t),ss(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gd(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function Xd(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Ou(t,0,67108864),Gd(e,67108864)}}var Zd=!0;function ef(e,t,n,r){var a=N.T;N.T=null;var s=z.p;try{z.p=2,nf(e,t,n,r)}finally{z.p=s,N.T=a}}function tf(e,t,n,r){var a=N.T;N.T=null;var s=z.p;try{z.p=8,nf(e,t,n,r)}finally{z.p=s,N.T=a}}function nf(e,t,n,r){if(Zd){var a=rf(r);if(null===a)Uc(e,t,r,af,n),gf(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return uf=bf(uf,e,t,n,r,a),!0;case"dragenter":return cf=bf(cf,e,t,n,r,a),!0;case"mouseover":return df=bf(df,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return ff.set(s,bf(ff.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,hf.set(s,bf(hf.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(gf(e,r),4&t&&-1<mf.indexOf(e)){for(;null!==a;){var s=Ue(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=be(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-fe(i);o.entanglements[1]|=l,i&=~l}Sc(s),!(6&tu)&&(Su=ee()+500,_c(0,!1))}}break;case 13:null!==(o=Pr(s,2))&&Ou(o,0,2),ju(),Gd(s,2)}if(null===(s=rf(r))&&Uc(e,t,r,af,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Uc(e,t,r,null,n)}}function rf(e){return sf(e=Pt(e))}var af=null;function sf(e){if(af=null,null!==(e=je(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return af=e,null}function of(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case ne:return 2;case re:return 8;case ae:case se:return 32;case ie:return 268435456;default:return 32}default:return 32}}var lf=!1,uf=null,cf=null,df=null,ff=new Map,hf=new Map,pf=[],mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gf(e,t){switch(e){case"focusin":case"focusout":uf=null;break;case"dragenter":case"dragleave":cf=null;break;case"mouseover":case"mouseout":df=null;break;case"pointerover":case"pointerout":ff.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(t.pointerId)}}function bf(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&null!==(t=Ue(t))&&Xd(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function yf(e){var t=je(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void function(e){var t=z.p;try{return z.p=e,function(){if(13===n.tag){var e=Nu();e=Ie(e);var t=Pr(n,e);null!==t&&Ou(t,0,e),Gd(n,e)}}()}finally{z.p=t}}(e.priority)}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rf(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&Xd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function wf(e,t,n){vf(e)&&n.delete(t)}function Sf(){lf=!1,null!==uf&&vf(uf)&&(uf=null),null!==cf&&vf(cf)&&(cf=null),null!==df&&vf(df)&&(df=null),ff.forEach(wf),hf.forEach(wf)}function _f(e,t){e.blockedOn===t&&(e.blockedOn=null,lf||(lf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sf)))}var kf=null;function Ef(e){kf!==e&&(kf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kf===e&&(kf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!=typeof r){if(null===sf(r||n))continue;break}var s=Ue(n);null!==s&&(e.splice(t,3),t-=3,Ri(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function xf(e){function t(t){return _f(t,e)}null!==uf&&_f(uf,e),null!==cf&&_f(cf,e),null!==df&&_f(df,e),ff.forEach(t),hf.forEach(t);for(var n=0;n<pf.length;n++){var r=pf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<pf.length&&null===(n=pf[0]).blockedOn;)yf(n),null===n.blockedOn&&pf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Me]||null;if("function"==typeof s)i||Ef(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Me]||null)o=i.formAction;else if(null!==sf(a))continue}else o=i.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ef(n)}}}function Tf(e){this._internalRoot=e}function If(e){this._internalRoot=e}If.prototype.render=Tf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Yd(t.current,Nu(),e,t,null,null)},If.prototype.unmount=Tf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Yd(e.current,2,null,e,null,null),ju(),t[Ne]=null}},If.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pf.length&&0!==t&&t<pf[n].priority;n++);pf.splice(n,0,e),0===n&&yf(e)}};var Cf=a.version;if("19.1.1"!==Cf)throw Error(i(527,Cf,"19.1.1"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return u(a),e;if(s===r)return u(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?c(e):null)?null:e.stateNode};var Rf={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{ue=Pf.inject(Rf),ce=Pf}catch(e){}}t.createRoot=function(e,t){if(!(n=e)||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(i(299));var n,r=!1,a="",s=bo,o=yo,l=vo;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=function(e,t,n,r,a,s,i,o,l,u,c,d){return e=new Kd(e,t,n,i,o,l,u,d),t=1,!0===s&&(t|=24),s=Or(3,null,null,t),e.current=s,s.stateNode=e,(t=Ma()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ts(s),e}(e,1,!1,null,0,r,a,s,o,l,0,null),e[Ne]=t.current,Bc(e),new Tf(t)}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&i[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},338:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},442:e=>{const t="undefined"!=typeof Buffer,n=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,r=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,a,i){null==i&&null!==a&&"object"==typeof a&&(i=a,a=void 0),t&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));const o=JSON.parse(e,a);if(null===o||"object"!=typeof o)return o;const l=i&&i.protoAction||"error",u=i&&i.constructorAction||"error";if("ignore"===l&&"ignore"===u)return o;if("ignore"!==l&&"ignore"!==u){if(!1===n.test(e)&&!1===r.test(e))return o}else if("ignore"!==l&&"ignore"===u){if(!1===n.test(e))return o}else if(!1===r.test(e))return o;return s(o,{protoAction:l,constructorAction:u,safe:i&&i.safe})}function s(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let a=[e];for(;a.length;){const e=a;a=[];for(const s of e){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(!0===r)return null;if("error"===t)throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if("ignore"!==n&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(!0===r)return null;if("error"===n)throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(const e in s){const t=s[e];t&&"object"==typeof t&&a.push(t)}}}return e}function i(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return a(e,t,n)}finally{Error.stackTraceLimit=r}}e.exports=i,e.exports.default=i,e.exports.parse=i,e.exports.safeParse=function(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}},e.exports.scan=s},477:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<a&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<a&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,b=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,E||(E=!0,k());else{var t=r(c);null!==t&&M(_,t.startTime-e)}}var k,E=!1,x=-1,T=5,I=-1;function C(){return!(!b&&t.unstable_now()-I<T)}function R(){if(b=!1,E){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(x),x=-1),p=!0;var s=h;try{t:{for(S(e),f=r(u);null!==f&&!(f.expirationTime>e&&C());){var i=f.callback;if("function"==typeof i){f.callback=null,h=f.priorityLevel;var o=i(f.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof o){f.callback=o,S(e),n=!0;break t}f===r(u)&&a(u),S(e)}else a(u);f=r(u)}if(null!==f)n=!0;else{var l=r(c);null!==l&&M(_,l.startTime-e),n=!1}}break e}finally{f=null,h=s,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"==typeof w)k=function(){w(R)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,k=function(){A.postMessage(null)}}else k=function(){y(R,0)};function M(e,n){x=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(x),x=-1):g=!0,M(_,s-i))):(e.sortIndex=o,n(u,e),m||p||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},540:(e,t,n)=>{e.exports=n(869)},601:e=>{e.exports=function(e){return e[1]}},626:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(601),a=n.n(r),s=n(314),i=n.n(s)()(a());i.push([e.id,"/* Pure assistant-ui default styling - no custom CSS */",""]);const o=i},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},698:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,n)=>{e.exports=n(698)},869:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var w=v.prototype=new y;w.constructor=v,m(w,b.prototype),w.isPureReactComponent=!0;var S=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(e,t,r,a,s,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function C(){}function R(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case f:return R((c=e._init)(e._payload),t,a,s,i)}}if(c)return i=i(e),c=""===s?"."+I(e,0):s,S(i)?(a="",null!=c&&(a=c.replace(T,"$&/")+"/"),R(i,t,a,"",function(e){return e})):null!=i&&(x(i)&&(l=i,u=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+c,i=E(l.type,u,void 0,0,0,l.props)),t.push(i)),1;c=0;var d,p=""===s?".":s+":";if(S(e))for(var m=0;m<e.length;m++)c+=R(s=e[m],t,a,o=p+I(s,m),i);else if("function"==typeof(m=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)c+=R(s=s.value,t,a,o=p+I(s,m++),i);else if("object"===o){if("function"==typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var r=[],a=0;return R(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(s in t.ref,void 0!==t.key&&(a=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return E(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return E(e,s,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),a=_.S;null!==a&&a(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(N,M)}catch(e){M(e)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.1"},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},982:(e,t,n)=>{e.exports=n(477)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r={};n.d(r,{default:()=>Pr});var a=n(540),s=n(338),i=n(72),o=n.n(i),l=n(825),u=n.n(l),c=n(659),d=n.n(c),f=n(56),h=n.n(f),p=n(159),m=n.n(p),g=n(113),b=n.n(g),y=n(626),v={};function w(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function S(...e){return t=>{let n=!1;const r=e.map(e=>{const r=w(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():w(e[t],null)}}}}function _(...e){return a.useCallback(S(...e),e)}v.styleTagTransform=b(),v.setAttributes=h(),v.insert=d().bind(null,"head"),v.domAPI=u(),v.insertStyleElement=m(),o()(y.A,v),y.A&&y.A.locals&&y.A.locals,n(961);var k=n(848);function E(e){const t=T(e),n=a.forwardRef((e,n)=>{const{children:r,...s}=e,i=a.Children.toArray(r),o=i.find(C);if(o){const e=o.props.children,r=i.map(t=>t===o?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t);return(0,k.jsx)(t,{...s,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,k.jsx)(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var x=E("Slot");function T(e){const t=a.forwardRef((e,t)=>{const{children:n,...r}=e;if(a.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}(n),s=function(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...e)=>{const t=s(...e);return a(...e),t}:a&&(n[r]=a):"style"===r?n[r]={...a,...s}:"className"===r&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==a.Fragment&&(s.ref=t?S(t,e):e),a.cloneElement(n,s)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var I=Symbol("radix.slottable");function C(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===I}var R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=E(`Primitive.${t}`),r=a.forwardRef((e,r)=>{const{asChild:a,...s}=e,i=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,k.jsx)(i,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function P(e,t){return function(n){const r=(0,a.useContext)(e);if(!n?.optional&&!r)throw new Error(`This component must be used within ${t}.`);return r}}function A(e,t){function n(n){const r=e(n);return r?r[t]:null}return{[t]:function(e){let t,r=!1;"function"==typeof e?t=e:e&&"object"==typeof e&&(r=!!e.optional,t=e.selector);const a=n({optional:r});return a?t?a(t):a():null},[`${t}Store`]:n}}var M=e=>{const t=e;t.__isBound||(t.__internal_bindMethods?.(),t.__isBound=!0)};var N=e=>e;function z(e){return function(t){let n,r=!1;"function"==typeof t?n=t:t&&(r=!!t.optional,n=t.selector);const s=e({optional:r});return s?function(e,t=N){M(e);const n=(0,a.useSyncExternalStore)(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return(0,a.useDebugValue)(n),n}(s,n):null}}var O=(0,a.createContext)(null),L=P(O,"a component passed to <ThreadPrimitive.Messages components={...} />");function D(e){const t=L(e);return t?t.useMessageRuntime():null}var F=z(D),B=z(e=>D(e)?.composer??null),{useMessageUtils:j,useMessageUtilsStore:U}=A(L,"useMessageUtils"),$=e=>{const t=(0,a.useRef)(void 0);return(0,a.useCallback)(n=>{t.current&&t.current(),n&&(t.current=e(n))},[e])},H=(0,a.forwardRef)((e,t)=>{const n=_(t,(()=>{const e=U(),t=(0,a.useCallback)(t=>{const n=e.getState().setIsHovering,r=()=>{n(!0)},a=()=>{n(!1)};return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",a),()=>{t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",a),n(!1)}},[e]);return $(t)})());return(0,k.jsx)(R.div,{...e,ref:n})});H.displayName="MessagePrimitive.Root";var V=(0,a.createContext)(null),q=P(V,"AssistantRuntimeProvider");function W(e){const t=q(e);return t?t.useAssistantRuntime():null}var{useToolUIs:Q,useToolUIsStore:K}=A(q,"useToolUIs"),Y=(z(e=>W(e)?.threads??null),(0,a.createContext)(null)),J=P(Y,"a component passed to <MessagePrimitive.Parts components={...}>");function G(e){const t=J(e);return t?t.useMessagePartRuntime():null}var X=z(G);const Z=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,s={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e))},i=t=e(r,a,s);return s},ee=e=>e,te=e=>{const t=(e=>e?Z(e):Z)(e),n=e=>function(e,t=ee){const n=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},ne=e=>e?te(e):te;var re=Symbol.for("aui.tool-response"),ae=class e{get[re](){return!0}artifact;result;isError;constructor(e){void 0!==e.artifact&&(this.artifact=e.artifact),this.result=e.result,this.isError=e.isError??!1}static[Symbol.hasInstance](e){return"object"==typeof e&&null!==e&&re in e}static toResponse(t){return t instanceof e?t:new e({result:void 0===t?"<no result>":t})}},se=class{constructor(e,t,n){this.contentBinding=e,this.messageApi=t,this.threadApi=n}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(e){const t=this.contentBinding.getState();if(!t)throw new Error("Message part is not available");if("tool-call"!==t.type)throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const n=this.messageApi.getState();if(!n)throw new Error("Message is not available");const r=t.toolName,a=t.toolCallId,s=ae.toResponse(e);this.threadApi.getState().addToolResult({messageId:n.id,toolName:r,toolCallId:a,result:s.result,artifact:s.artifact,isError:s.isError})}subscribe(e){return this.contentBinding.subscribe(e)}},ie={type:"complete"},oe={type:"running"},le=({children:e,text:t,isRunning:n})=>{const[r]=(0,a.useState)(()=>{const e=ne(()=>({status:n?oe:ie,type:"text",text:t})),r=new se({path:{ref:"text",threadSelector:{type:"main"},messageSelector:{type:"messageId",messageId:""},messagePartSelector:{type:"index",index:0}},getState:e.getState,subscribe:e.subscribe});return M(r),{useMessagePartRuntime:ne(()=>r),useMessagePart:e}});return(0,a.useEffect)(()=>{const e=r.useMessagePart.getState(),a=e.text!==t,s=n?oe:ie,i=e.status!==s;(a||i)&&r.useMessagePart.setState({type:"text",text:t,status:s},!0)},[r,n,t]),(0,k.jsx)(Y.Provider,{value:r,children:e})},ue=({runtime:e,children:t})=>{const n=(e=>{const[t]=(0,a.useState)(()=>ne(()=>e));return(0,a.useEffect)(()=>{M(e),t.setState(e,!0)},[e,t]),t})(e),[r]=(0,a.useState)(()=>({useMessagePartRuntime:n}));return(0,k.jsx)(Y.Provider,{value:r,children:t})};function ce(e){const t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}var de=(0,a.createContext)(null);var{useSmoothStatus:fe,useSmoothStatusStore:he}=A(function(e){const t=(0,a.useContext)(de);if(!e?.optional&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t},"useSmoothStatus"),pe=class{constructor(e,t){this.currentText=e,this.setText=t}animationFrameId=null;lastUpdateTime=Date.now();targetText="";start(){null===this.animationFrameId&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}animate=()=>{const e=Date.now();let t=e-this.lastUpdateTime;const n=this.targetText.length-this.currentText.length,r=Math.min(5,250/n);let a=0;for(;t>=r&&a<n;)a++,t-=r;this.animationFrameId=a!==n?requestAnimationFrame(this.animate):null,0!==a&&(this.currentText=this.targetText.slice(0,this.currentText.length+a),this.lastUpdateTime=e-t,this.setText(this.currentText))}},me=Object.freeze({type:"running"}),ge=(0,a.forwardRef)(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:i}=((e,t=!1)=>{const{text:n}=e,r=F({optional:!0,selector:e=>e.id}),s=(0,a.useRef)(r),[i,o]=(0,a.useState)(n),l=he({optional:!0}),u=ce(t=>{if(o(t),l){const n=i!==t||"running"===e.status.type?me:e.status;l.setState(n,!0)}});(0,a.useEffect)(()=>{if(l){const t=i!==n||"running"===e.status.type?me:e.status;l.setState(t,!0)}},[l,n,i,e.status]);const[c]=(0,a.useState)(new pe(n,u));return(0,a.useEffect)(()=>{if(t){if(s.current!==r||!n.startsWith(c.targetText))return s.current=r,u(n),c.currentText=n,c.targetText=n,void c.stop();c.targetText=n,c.start()}else c.stop()},[u,c,r,t,n]),(0,a.useEffect)(()=>()=>{c.stop()},[c]),(0,a.useMemo)(()=>t?{type:"text",text:i,status:n===i?e.status:me}:e,[t,i,e,n])})(X(e=>{if("text"!==e.type&&"reasoning"!==e.type)throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return e}),e);return(0,k.jsx)(t,{"data-status":i.type,...n,ref:r,children:s})});ge.displayName="MessagePartPrimitive.Text";var be=(0,a.forwardRef)((e,t)=>{const{image:n}=X(e=>{if("image"!==e.type)throw new Error("MessagePartImage can only be used inside image message parts.");return e});return(0,k.jsx)(R.img,{src:n,...e,ref:t})});be.displayName="MessagePartPrimitive.Image";var ye=({children:e})=>X(e=>"running"===e.status.type)?e:null;ye.displayName="MessagePartPrimitive.InProgress";const ve=e=>Symbol.iterator in e,we=e=>"entries"in e,Se=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[e,t]of n)if(!Object.is(t,r.get(e)))return!1;return!0};var _e=()=>{const e=F(function(){const e=a.useRef(void 0);return t=>{const n=t.content.map(e=>e.type);var r,a;return r=e.current,a=n,Object.is(r,a)||"object"==typeof r&&null!==r&&"object"==typeof a&&null!==a&&Object.getPrototypeOf(r)===Object.getPrototypeOf(a)&&(ve(r)&&ve(a)?we(r)&&we(a)?Se(r,a):((e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let a=n.next(),s=r.next();for(;!a.done&&!s.done;){if(!Object.is(a.value,s.value))return!1;a=n.next(),s=r.next()}return!!a.done&&!!s.done})(r,a):Se({entries:()=>Object.entries(r)},{entries:()=>Object.entries(a)}))?e.current:e.current=n}}());return(0,a.useMemo)(()=>0===e.length?[]:(e=>{const t=[];let n=-1;for(let r=0;r<e.length;r++)"tool-call"===e[r]?-1===n&&(n=r):(-1!==n&&(t.push({type:"toolGroup",startIndex:n,endIndex:r-1}),n=-1),t.push({type:"single",index:r}));return-1!==n&&t.push({type:"toolGroup",startIndex:n,endIndex:e.length-1}),t})(e),[e])},ke=({Fallback:e,...t})=>{const n=Q(e=>e.getToolUI(t.toolName))??e;return n?(0,k.jsx)(n,{...t}):null},Ee={Text:()=>(0,k.jsxs)("p",{style:{whiteSpace:"pre-line"},children:[(0,k.jsx)(ge,{}),(0,k.jsx)(ye,{children:(0,k.jsx)("span",{style:{fontFamily:"revert"},children:" ●"})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>(0,k.jsx)(be,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e},xe=({components:{Text:e=Ee.Text,Reasoning:t=Ee.Reasoning,Image:n=Ee.Image,Source:r=Ee.Source,File:a=Ee.File,Unstable_Audio:s=Ee.Unstable_Audio,tools:i={}}={}})=>{const o=G(),l=X(),u=l.type;if("tool-call"===u){const e=e=>o.addToolResult(e);if("Override"in i)return(0,k.jsx)(i.Override,{...l,addResult:e});const t=i.by_name?.[l.toolName]??i.Fallback;return(0,k.jsx)(ke,{...l,Fallback:t,addResult:e})}if("requires-action"===l.status.type)throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return(0,k.jsx)(e,{...l});case"reasoning":return(0,k.jsx)(t,{...l});case"source":return(0,k.jsx)(r,{...l});case"image":return(0,k.jsx)(n,{...l});case"file":return(0,k.jsx)(a,{...l});case"audio":return(0,k.jsx)(s,{...l});default:throw new Error(`Unknown message part type: ${u}`)}},Te=(0,a.memo)(({partIndex:e,components:t})=>{const n=D(),r=(0,a.useMemo)(()=>n.getMessagePartByIndex(e),[n,e]);return(0,k.jsx)(ue,{runtime:r,children:(0,k.jsx)(xe,{components:t})})},(e,t)=>e.partIndex===t.partIndex&&e.components?.Text===t.components?.Text&&e.components?.Reasoning===t.components?.Reasoning&&e.components?.Source===t.components?.Source&&e.components?.Image===t.components?.Image&&e.components?.File===t.components?.File&&e.components?.Unstable_Audio===t.components?.Unstable_Audio&&e.components?.tools===t.components?.tools&&e.components?.ToolGroup===t.components?.ToolGroup),Ie=Object.freeze({type:"complete"}),Ce=({status:e,component:t})=>(0,k.jsx)(le,{text:"",isRunning:"running"===e.type,children:(0,k.jsx)(t,{type:"text",text:"",status:e})}),Re=(0,a.memo)(({components:e})=>{const t=F(e=>e.status)??Ie;return e?.Empty?(0,k.jsx)(e.Empty,{status:t}):(0,k.jsx)(Ce,{status:t,component:e?.Text??Ee.Text})},(e,t)=>e.components?.Empty===t.components?.Empty&&e.components?.Text===t.components?.Text),Pe=({components:e})=>{const t=F(e=>e.content.length),n=_e(),r=(0,a.useMemo)(()=>0===t?(0,k.jsx)(Re,{components:e}):n.map(t=>{if("single"===t.type)return(0,k.jsx)(Te,{partIndex:t.index,components:e},t.index);{const n=e.ToolGroup??Ee.ToolGroup;return(0,k.jsx)(n,{startIndex:t.startIndex,endIndex:t.endIndex,children:Array.from({length:t.endIndex-t.startIndex+1},(n,r)=>(0,k.jsx)(Te,{partIndex:t.startIndex+r,components:e},r))},t.startIndex)}}),[n,e,t]);return(0,k.jsx)(k.Fragment,{children:r})};Pe.displayName="MessagePrimitive.Parts";var Ae=class{_providers=new Set;getModelContext(){return e=this._providers,Array.from(e).map(e=>e.getModelContext()).sort((e,t)=>(t.priority??0)-(e.priority??0)).reduce((e,t)=>{if(t.system&&(e.system?e.system+=`\n\n${t.system}`:e.system=t.system),t.tools)for(const[n,r]of Object.entries(t.tools)){const t=e.tools?.[n];if(t&&t!==r)throw new Error(`You tried to define a tool with the name ${n}, but it already exists.`);e.tools||(e.tools={}),e.tools[n]=r}return t.config&&(e.config={...e.config,...t.config}),t.callSettings&&(e.callSettings={...e.callSettings,...t.callSettings}),e},{});var e}registerModelContextProvider(e){this._providers.add(e);const t=e.subscribe?.(()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(e),t?.(),this.notifySubscribers()}}_subscribers=new Set;notifySubscribers(){for(const e of this._subscribers)e()}subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}},Me=class{_contextProvider=new Ae;registerModelContextProvider(e){return this._contextProvider.registerModelContextProvider(e)}},Ne=n(442),ze=Symbol("aui.parse-partial-json-object.meta"),Oe=e=>{if(0===e.length)return{[ze]:{state:"partial",partialPath:[]}};try{const t=Ne.parse(e);if("object"!=typeof t||null===t)throw new Error("argsText is expected to be an object");return t[ze]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=function(e){const t=["ROOT"];let n=-1,r=null;const a=[];let s;function i(){void 0!==s&&(a.push(JSON.parse('"'+s+'"')),s=void 0)}function o(e,a,s){switch(e){case'"':n=a,t.pop(),t.push(s),t.push("INSIDE_STRING"),i();break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(s),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(s),t.push("INSIDE_NUMBER"),i();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(s),t.push("INSIDE_NUMBER"),i();break;case"{":n=a,t.pop(),t.push(s),t.push("INSIDE_OBJECT_START"),i();break;case"[":n=a,t.pop(),t.push(s),t.push("INSIDE_ARRAY_START"),i()}}function l(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop(),s=a.pop()}}function u(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),s=(Number(s)+1).toString();break;case"]":n=r,t.pop(),s=a.pop()}}for(let i=0;i<e.length;i++){const c=e[i];switch(t[t.length-1]){case"ROOT":o(c,i,"FINISH");break;case"INSIDE_OBJECT_START":switch(c){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY"),s="";break;case"}":n=i,t.pop(),s=a.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===c&&(t.pop(),t.push("INSIDE_OBJECT_KEY"),s="");break;case"INSIDE_OBJECT_KEY":switch(c){case'"':t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"\\":t.push("INSIDE_STRING_ESCAPE"),s+=c;break;default:s+=c}break;case"INSIDE_OBJECT_AFTER_KEY":":"===c&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":o(c,i,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":l(c,i);break;case"INSIDE_STRING":switch(c){case'"':t.pop(),n=i,s=a.pop();break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=i}break;case"INSIDE_ARRAY_START":"]"===c?(n=i,t.pop(),s=a.pop()):(n=i,s="0",o(c,i,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(c){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),s=(Number(s)+1).toString();break;case"]":n=i,t.pop(),s=a.pop();break;default:n=i}break;case"INSIDE_ARRAY_AFTER_COMMA":o(c,i,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),"INSIDE_STRING"===t[t.length-1]?n=i:"INSIDE_OBJECT_KEY"===t[t.length-1]&&(s+=c);break;case"INSIDE_NUMBER":switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=i;break;case"e":case"E":case"-":case".":break;case",":t.pop(),s=a.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&u(c,i),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&l(c,i);break;case"}":t.pop(),s=a.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&l(c,i);break;case"]":t.pop(),s=a.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&u(c,i);break;default:t.pop(),s=a.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,i+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=i:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?l(c,i):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&u(c,i));break}}}let c=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--)switch(t[n]){case"INSIDE_STRING":c+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":c+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":c+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?c+="true".slice(t.length):"false".startsWith(t)?c+="false".slice(t.length):"null".startsWith(t)&&(c+="null".slice(t.length))}}return[c,a]}(e),r=Ne.parse(t);if("object"!=typeof r||null===r)throw new Error("argsText is expected to be an object");return r[ze]={state:"partial",partialPath:n},r}catch{return}}};let Le=(e,t=21)=>(n=t)=>{let r="",a=0|n;for(;a--;)r+=e[Math.random()*e.length|0];return r};var De=Le("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),Fe=()=>`__optimistic__${De()}`,Be=(e,t,n)=>{const{role:r,id:a,createdAt:s,attachments:i,status:o,metadata:l}=e,u={id:a??t,createdAt:s??new Date},c="string"==typeof e.content?[{type:"text",text:e.content}]:e.content;if("user"!==r&&i?.length)throw new Error("attachments are only supported for user messages");if("assistant"!==r&&o)throw new Error("status is only supported for assistant messages");if("assistant"!==r&&l?.steps)throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:c.map(e=>{const t=e.type;switch(t){case"text":case"reasoning":return 0===e.text.trim().length?null:e;case"file":case"source":return e;case"tool-call":{const{parentId:t,...n}=e,r={...n,toolCallId:e.toolCallId??"tool-"+De(),...void 0!==t&&{parentId:t}};return e.args?{...r,args:e.args,argsText:JSON.stringify(e.args)}:{...r,args:e.args??Oe(e.argsText??"")??{},argsText:e.argsText??""}}default:throw new Error(`Unsupported assistant message part type: ${t}`)}}).filter(e=>!!e),status:o??n,metadata:{unstable_state:l?.unstable_state??null,unstable_annotations:l?.unstable_annotations??[],unstable_data:l?.unstable_data??[],custom:l?.custom??{},steps:l?.steps??[]}};case"user":return{...u,role:r,content:c.map(e=>{const t=e.type;switch(t){case"text":case"image":case"audio":case"file":return e;default:throw new Error(`Unsupported user message part type: ${t}`)}}),attachments:i??[],metadata:{custom:l?.custom??{}}};case"system":if(1!==c.length||"text"!==c[0].type)throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:c,metadata:{custom:l?.custom??{}}};default:throw new Error(`Unknown message role: ${r}`)}},je=(e,t)=>void 0===t?"requires-action"===e.status?.type&&"tool-calls"===e.status.reason&&e.content.every(e=>"tool-call"!==e.type||!!e.result):"requires-action"===e.status?.type&&"tool-calls"===e.status.reason&&e.content.every(e=>"tool-call"!==e.type||!!e.result||!t.includes(e.toolName)),Ue=(Object.freeze({type:"running"}),Object.freeze({type:"complete",reason:"unknown"})),$e=e=>{const t=e.map(e=>Be(e,De(),Ue));return{messages:t.map((e,n)=>({parentId:n>0?t[n-1].id:null,message:e}))}},He=e=>e.next?He(e.next):"current"in e?e:null,Ve=class{constructor(e){this.func=e}_value=null;get value(){return null===this._value&&(this._value=this.func()),this._value}dirty(){this._value=null}},qe=class{messages=new Map;head=null;root={children:[],next:null};performOp(e,t,n){const r=t.prev??this.root,a=e??this.root;if("relink"!==n||r!==a){if("link"!==n&&(r.children=r.children.filter(e=>e!==t.current.id),r.next===t)){const e=r.children.at(-1),t=e?this.messages.get(e):null;if(void 0===t)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");r.next=t}if("cut"!==n){for(let n=e;n;n=n.prev)if(n.current.id===t.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");a.children=[...a.children,t.current.id],He(t)!==this.head&&null!==a.next||(a.next=t),t.prev=e}}}_messages=new Ve(()=>{const e=new Array(this.head?.level??0);for(let t=this.head;t;t=t.prev)e[t.level]=t.current;return e});get headId(){return this.head?.current.id??null}getMessages(){return this._messages.value}addOrUpdateMessage(e,t){const n=this.messages.get(t.id),r=e?this.messages.get(e):null;if(void 0===r)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(n)return n.current=t,this.performOp(r,n,"relink"),void this._messages.dirty();const a={prev:r,current:t,next:null,children:[],level:r?r.level+1:0};this.messages.set(t.id,a),this.performOp(r,a,"link"),this.head===r&&(this.head=a),this._messages.dirty()}getMessage(e){const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:t.prev?.current.id??null,message:t.current}}appendOptimisticMessage(e,t){let n;do{n=Fe()}while(this.messages.has(n));return this.addOrUpdateMessage(e,Be(t,n,{type:"running"})),n}deleteMessage(e,t){const n=this.messages.get(e);if(!n)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const r=void 0===t?n.prev:null===t?null:this.messages.get(t);if(void 0===r)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const e of n.children){const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(r,t,"relink")}this.performOp(null,n,"cut"),this.messages.delete(e),this.head===n&&(this.head=He(r??this.root)),this._messages.dirty()}getBranches(e){const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:n}=t.prev??this.root;return n}switchToBranch(e){const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");(t.prev??this.root).next=t,this.head=He(t),this._messages.dirty()}resetHead(e){if(null===e)return this.head=null,void this._messages.dirty();const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");this.head=t;for(let e=t;e;e=e.prev)e.prev&&(e.prev.next=e);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){const e=[];for(const[,t]of this.messages)e.push({message:t.current,parentId:t.prev?.current.id??null});return{headId:this.head?.current.id??null,messages:e}}import({headId:e,messages:t}){for(const{message:e,parentId:n}of t)this.addOrUpdateMessage(n,e);this.resetHead(e??t.at(-1)?.message.id??null)}},We=class{_subscribers=new Set;subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}waitForUpdate(){return new Promise(e=>{const t=this.subscribe(()=>{t(),e()})})}_notifySubscribers(){const e=[];for(const t of this._subscribers)try{t()}catch(t){e.push(t)}if(e.length>0)throw 1===e.length?e[0]:new AggregateError(e)}},Qe=class extends We{isEditing=!0;getAttachmentAccept(){return this.getAttachmentAdapter()?.accept??"*"}_attachments=[];get attachments(){return this._attachments}setAttachments(e){this._attachments=e,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}_text="";get text(){return this._text}_role="user";get role(){return this._role}_runConfig={};get runConfig(){return this._runConfig}setText(e){this._text!==e&&(this._text=e,this._notifySubscribers())}setRole(e){this._role!==e&&(this._role=e,this._notifySubscribers())}setRunConfig(e){this._runConfig!==e&&(this._runConfig=e,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const e=this.getAttachmentAdapter();e&&await Promise.all(this._attachments.map(t=>e.remove(t)))}async reset(){if(0===this._attachments.length&&""===this._text&&"user"===this._role&&0===Object.keys(this._runConfig).length)return;this._role="user",this._runConfig={};const e=this._onClearAttachments();this._emptyTextAndAttachments(),await e}async clearAttachments(){const e=this._onClearAttachments();this.setAttachments([]),await e}async send(){const e=this.getAttachmentAdapter(),t=e&&this.attachments.length>0?await Promise.all(this.attachments.map(async t=>(e=>"complete"===e.status.type)(t)?t:await e.send(t))):[],n={createdAt:new Date,role:this.role,content:this.text?[{type:"text",text:this.text}]:[],attachments:t,runConfig:this.runConfig,metadata:{custom:{}}};this._emptyTextAndAttachments(),this.handleSend(n),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(e){const t=this.getAttachmentAdapter();if(!t)throw new Error("Attachments are not supported");const n=e=>{const t=this._attachments.findIndex(t=>t.id===e.id);-1!==t?this._attachments=[...this._attachments.slice(0,t),e,...this._attachments.slice(t+1)]:(this._attachments=[...this._attachments,e],this._notifyEventSubscribers("attachment_add")),this._notifySubscribers()},r=t.add({file:e});if(Symbol.asyncIterator in r)for await(const e of r)n(e);else n(await r);this._notifyEventSubscribers("attachment_add"),this._notifySubscribers()}async removeAttachment(e){const t=this.getAttachmentAdapter();if(!t)throw new Error("Attachments are not supported");const n=this._attachments.findIndex(t=>t.id===e);if(-1===n)throw new Error("Attachment not found");const r=this._attachments[n];await t.remove(r),this._attachments=[...this._attachments.slice(0,n),...this._attachments.slice(n+1)],this._notifySubscribers()}_eventSubscribers=new Map;_notifyEventSubscribers(e){const t=this._eventSubscribers.get(e);if(t)for(const e of t)e()}unstable_on(e,t){const n=this._eventSubscribers.get(e);return n?n.add(t):this._eventSubscribers.set(e,new Set([t])),()=>{const n=this._eventSubscribers.get(e);n&&n.delete(t)}}},Ke=class extends Qe{constructor(e){super(),this.runtime=e,this.connect()}_canCancel=!1;get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){return this.runtime.adapters?.attachments}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(e){this.runtime.append({...e,parentId:this.runtime.messages.at(-1)?.id??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}},Ye=e=>e.content.filter(e=>"text"===e.type).map(e=>e.text).join("\n\n"),Je=class extends Qe{constructor(e,t,{parentId:n,message:r}){super(),this.runtime=e,this.endEditCallback=t,this._parentId=n,this._sourceId=r.id,this._previousText=Ye(r),this.setText(this._previousText),this.setRole(r.role),this.setAttachments(r.attachments??[]),this._nonTextParts=r.content.filter(e=>"text"!==e.type),this.setRunConfig({...e.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){return this.runtime.adapters?.attachments}_nonTextParts;_previousText;_parentId;_sourceId;async handleSend(e){Ye(e)!==this._previousText&&this.runtime.append({...e,content:[...e.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}},Ge=class{constructor(e){this._contextProvider=e}_subscriptions=new Set;_isInitialized=!1;repository=new qe;get messages(){return this.repository.getMessages()}get state(){let e;for(const t of this.messages)if("assistant"===t.role){e=t;break}return e?.metadata.unstable_state??null}composer=new Ke(this);getModelContext(){return this._contextProvider.getModelContext()}_editComposers=new Map;getEditComposer(e){return this._editComposers.get(e)}beginEdit(e){if(this._editComposers.has(e))throw new Error("Edit already in progress");this._editComposers.set(e,new Je(this,()=>this._editComposers.delete(e),this.repository.getMessage(e))),this._notifySubscribers()}getMessageById(e){return this.repository.getMessage(e)}getBranches(e){return this.repository.getBranches(e)}switchToBranch(e){this.repository.switchToBranch(e),this._notifySubscribers()}_notifySubscribers(){for(const e of this._subscriptions)e()}_notifyEventSubscribers(e){const t=this._eventSubscribers.get(e);if(t)for(const e of t)e()}subscribe(e){return this._subscriptions.add(e),()=>this._subscriptions.delete(e)}_submittedFeedback={};getSubmittedFeedback(e){return this._submittedFeedback[e]}submitFeedback({messageId:e,type:t}){const n=this.adapters?.feedback;if(!n)throw new Error("Feedback adapter not configured");const{message:r}=this.repository.getMessage(e);n.submit({message:r,type:t}),this._submittedFeedback[e]={type:t},this._notifySubscribers()}_stopSpeaking;speech;speak(e){const t=this.adapters?.speech;if(!t)throw new Error("Speech adapter not configured");const{message:n}=this.repository.getMessage(e);this._stopSpeaking?.();const r=t.speak(Ye(n)),a=r.subscribe(()=>{"ended"===r.status.type?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:e,status:r.status},this._notifySubscribers()});this.speech={messageId:e,status:r.status},this._notifySubscribers(),this._stopSpeaking=()=>{r.cancel(),a(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(e){this.ensureInitialized(),this.repository.clear(),this.repository.import(e),this._notifySubscribers()}reset(e){this.import($e(e??[]))}_eventSubscribers=new Map;unstable_on(e,t){if("model-context-update"===e)return this._contextProvider.subscribe?.(t)??(()=>{});const n=this._eventSubscribers.get(e);return n?n.add(t):this._eventSubscribers.set(e,new Set([t])),()=>{this._eventSubscribers.get(e).delete(t)}}},Xe=class extends Ge{capabilities={switchToBranch:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,attachments:!1,feedback:!1};abortController=null;isDisabled=!1;_isLoading=!1;get isLoading(){return this._isLoading}_suggestions=[];_suggestionsController=null;get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}constructor(e,t){super(e),this.__internal_setOptions(t)}_options;_lastRunConfig={};get extras(){}__internal_setOptions(e){if(this._options===e)return;this._options=e;let t=!1;const n=void 0!==e.adapters?.speech;this.capabilities.speech!==n&&(this.capabilities.speech=n,t=!0);const r=void 0!==e.adapters?.attachments;this.capabilities.attachments!==r&&(this.capabilities.attachments=r,t=!0);const a=void 0!==e.adapters?.feedback;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,t=!0),t&&this._notifySubscribers()}_loadPromise;__internal_load(){if(this._loadPromise)return this._loadPromise;const e=this.adapters.history?.load()??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=e.then(e=>{if(!e)return;this.repository.import(e),this._notifySubscribers();const t=this.adapters.history?.resume?.bind(this.adapters.history);e.unstable_resume&&t&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},t)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(e){this.ensureInitialized();const t=Be(e,De(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(e.parentId,t),this._options.adapters.history?.append({parentId:e.parentId,message:t}),e.startRun??"user"===e.role?await this.startRun({parentId:t.id,sourceId:e.sourceId,runConfig:e.runConfig??{}}):(this.repository.resetHead(t.id),this._notifySubscribers())}resumeRun({stream:e,...t}){return this.startRun(t,e)}async startRun({parentId:e,runConfig:t},n){this.ensureInitialized(),this.repository.resetHead(e);let r={id:De(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("run-start");try{this._suggestions=[],this._suggestionsController?.abort(),this._suggestionsController=null;do{r=await this.performRoundtrip(e,r,t,n),n=void 0}while(je(r,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("run-end")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&"requires-action"!==r.status?.type){const e=this.adapters.suggestion?.generate({messages:this.messages});if(Symbol.asyncIterator in e)for await(const t of e){if(a.aborted)break;this._suggestions=t}else{const t=await e;if(a.aborted)return;this._suggestions=t}}}async performRoundtrip(e,t,n,r){const a=this.repository.getMessages();this.abortController?.abort(),this.abortController=new AbortController;const s=t.content,i=t.metadata?.unstable_annotations,o=t.metadata?.unstable_data,l=t.metadata?.steps,u=t.metadata?.custom,c=n=>{const r=n.metadata?.steps,a=r?[...l??[],...r]:void 0,c=n.metadata?.unstable_annotations,d=n.metadata?.unstable_data,f=c?[...i??[],...c]:void 0,h=d?[...o??[],...d]:void 0;t={...t,...n.content?{content:[...s,...n.content??[]]}:void 0,status:n.status??t.status,...n.metadata?{metadata:{...t.metadata,...n.metadata.unstable_state?{unstable_state:n.metadata.unstable_state}:void 0,...f?{unstable_annotations:f}:void 0,...h?{unstable_data:h}:void 0,...a?{steps:a}:void 0,...n.metadata?.custom?{custom:{...u??{},...n.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(e,t),this._notifySubscribers()},d=this._options.maxSteps??2;if((t.metadata?.steps?.length??0)>=d)return c({status:{type:"incomplete",reason:"tool-calls"}}),t;c({status:{type:"running"}});try{this._lastRunConfig=n??{};const e=this.getModelContext();r=r??this.adapters.chatModel.run.bind(this.adapters.chatModel);const s=this.abortController.signal,i=r({messages:a,runConfig:this._lastRunConfig,abortSignal:s,context:e,config:e,unstable_assistantMessageId:t.id,unstable_getMessage:()=>t});if(Symbol.asyncIterator in i)for await(const e of i){if(s.aborted){c({status:{type:"incomplete",reason:"cancelled"}});break}c(e)}else c(await i);"running"===t.status.type&&c({status:{type:"complete",reason:"unknown"}})}catch(e){if(!(e instanceof Error&&"AbortError"===e.name))throw c({status:{type:"incomplete",reason:"error",error:e instanceof Error?e.message:`[${typeof e}] ${new String(e).toString()}`}}),e;c({status:{type:"incomplete",reason:"cancelled"}})}finally{this.abortController=null,"complete"!==t.status.type&&"incomplete"!==t.status.type||await(this._options.adapters.history?.append({parentId:e,message:t}))}return t}detach(){this.abortController?.abort({detach:!0}),this.abortController=null}cancelRun(){this.abortController?.abort({detach:!1}),this.abortController=null}addToolResult({messageId:e,toolCallId:t,result:n,isError:r,artifact:a}){const s=this.repository.getMessage(e),{parentId:i}=s;let{message:o}=s;if("assistant"!==o.role)throw new Error("Tried to add tool result to non-assistant message");let l=!1,u=!1;const c=o.content.map(e=>"tool-call"!==e.type||e.toolCallId!==t?e:(u=!0,e.result||(l=!0),{...e,result:n,artifact:a,isError:r}));if(!u)throw new Error("Tried to add tool result to non-existing tool call");o={...o,content:c},this.repository.addOrUpdateMessage(i,o),l&&je(o,this._options.unstable_humanToolNames)&&this.performRoundtrip(i,o,this._lastRunConfig)}},Ze=Object.freeze([]),et=class extends We{_mainThread;constructor(e){super(),this._mainThread=e()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw Ze}get archivedThreadIds(){throw Ze}get mainThreadId(){return"__DEFAULT_ID__"}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(e){if(e===this.mainThreadId)return{status:"regular",threadId:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(){throw new Error("Method not implemented.")}generateTitle(){throw new Error("Method not implemented.")}},tt=class extends Me{threads;Provider=void 0;_options;constructor(e,t){super(),this._options=e,this.threads=new et(()=>new Xe(this._contextProvider,this._options)),t&&this.threads.getMainThreadRuntimeCore().import($e(t))}},nt=(0,a.createContext)(null),rt=({adapters:e,children:t})=>{const n=(0,a.useContext)(nt);return(0,k.jsx)(nt.Provider,{value:{...n,...e},children:t})},at=(0,a.createContext)(null),st=P(at,"a component passed to <ThreadListPrimitive.Items components={...}>");function it(e){const t=st(e);return t?t.useThreadListItemRuntime():null}var ot=z(it),lt=({runtime:e,children:t})=>{const n=(e=>{const[t]=(0,a.useState)(()=>ne(()=>e));return(0,a.useEffect)(()=>{M(e),t.setState(e,!0)},[e,t]),t})(e),[r]=(0,a.useState)(()=>({useThreadListItemRuntime:n}));return(0,k.jsx)(at.Provider,{value:r,children:t})},ut=class extends We{useRuntimeHook;instances=new Map;useAliveThreadsKeysChanged=ne(()=>({}));constructor(e){super(),this.useRuntimeHook=ne(()=>({useRuntime:e}))}startThreadRuntime(e){return this.instances.has(e)||(this.instances.set(e,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((t,n)=>{const r=()=>{const r=this.instances.get(e);if(r){if(!r.runtime)return;a(),t(r.runtime)}else a(),n(new Error("Thread was deleted before runtime was started"))},a=this.subscribe(r);r()})}getThreadRuntimeCore(e){const t=this.instances.get(e);if(t)return t.runtime}stopThreadRuntime(e){this.instances.delete(e),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(e){this.useRuntimeHook.getState().useRuntime!==e&&this.useRuntimeHook.setState({useRuntime:e},!0)}_InnerActiveThreadProvider=()=>{const{id:e}=ot(),{useRuntime:t}=this.useRuntimeHook(),n=t(),r=n.thread.__internal_threadBinding,s=(0,a.useCallback)(()=>{const t=this.instances.get(e);if(!t)throw new Error("Thread not found. This is a bug in assistant-ui.");t.runtime=r.getState(),i&&this._notifySubscribers()},[e,r]),i=(0,a.useRef)(!1);return i.current||s(),(0,a.useEffect)(()=>(i.current=!0,s(),r.outerSubscribe(s)),[r,s]),(0,a.useEffect)(()=>n.threads.main.unstable_on("initialize",()=>{const t=n.threads.getItemById(e);if("new"===t.getState().status){t.initialize();const e=n.thread.unstable_on("run-end",()=>{e(),t.generateTitle()})}}),[n,e]),null};_OuterActiveThreadProvider=(0,a.memo)(({threadId:e,provider:t})=>{const n=W(),r=(0,a.useMemo)(()=>n.threads.getItemById(e),[n,e]);return(0,k.jsx)(lt,{runtime:r,children:(0,k.jsx)(t,{children:(0,k.jsx)(this._InnerActiveThreadProvider,{})})})});__internal_RenderThreadRuntimes=({provider:e})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(t=>(0,k.jsx)(this._OuterActiveThreadProvider,{threadId:t,provider:e},t)))},ct=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),dt={getMessageById(){},getBranches:()=>[],switchToBranch(){throw ct},append(){throw ct},startRun(){throw ct},resumeRun(){throw ct},cancelRun(){throw ct},addToolResult(){throw ct},speak(){throw ct},stopSpeaking(){throw ct},getSubmittedFeedback(){},submitFeedback(){throw ct},getModelContext:()=>({}),composer:{attachments:[],getAttachmentAccept:()=>"*",async addAttachment(){throw ct},async removeAttachment(){throw ct},isEditing:!1,canCancel:!1,isEmpty:!0,text:"",setText(){throw ct},role:"user",setRole(){throw ct},runConfig:{},setRunConfig(){throw ct},async reset(){},async clearAttachments(){},send(){throw ct},cancel(){},subscribe:()=>()=>{},unstable_on:()=>()=>{}},getEditComposer(){},beginEdit(){throw ct},speech:void 0,capabilities:{switchToBranch:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,attachments:!1,feedback:!1},isDisabled:!0,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe:()=>()=>{},import(){throw ct},export:()=>({messages:[]}),reset(){throw ct},unstable_on:()=>()=>{}},ft=(e,t,n)=>n.reduce((e,n)=>n?.(e,t)??e,e),ht=class extends We{_pendingTransforms=[];_baseValue;_cachedValue;constructor(e){super(),this._baseValue=e,this._cachedValue=e}_updateState(){this._cachedValue=this._pendingTransforms.reduce((e,t)=>ft(e,t.task,[t.loading,t.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(e){this._baseValue=e,this._updateState()}async optimisticUpdate(e){const t=e.execute(),n={...e,task:t};try{this._pendingTransforms.push(n),this._updateState();const r=await t;return this._baseValue=ft(this._baseValue,r,[e.optimistic,e.then]),r}finally{const e=this._pendingTransforms.indexOf(n);e>-1&&this._pendingTransforms.splice(e,1),this._updateState()}}},pt=Le("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),mt=class e{_state;constructor(e=null){this._state=e}get state(){return this._state}append(t){this._state=t.reduce((t,n)=>e.apply(t,n),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return e.updatePath(t,n.path,()=>n.value);case"append-text":return e.updatePath(t,n.path,e=>{if("string"!=typeof e)throw new Error(`Expected string at path [${n.path.join(", ")}]`);return e+n.value});default:throw new Error(`Invalid operation type: ${r}`)}}static updatePath(e,t,n){if(0===t.length)return n(e);if(e??={},"object"!=typeof e)throw new Error(`Invalid path: [${t.join(", ")}]`);const[r,...a]=t;if(Array.isArray(e)){const s=Number(r);if(isNaN(s))throw new Error(`Expected array index at [${t.join(", ")}]`);if(s>e.length||s<0)throw new Error("Insert array index out of bounds");const i=[...e];return i[s]=this.updatePath(i[s],a,n),i}const s={...e};return s[r]=this.updatePath(s[r],a,n),s}},gt=()=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),bt=(e,t,n)=>{if(0===e.parts.length)throw new Error("No parts available to update.");if(1!==t.path.length)throw new Error("Nested paths are not supported yet.");const r=t.path[0],a=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),a,...e.parts.slice(r+1)],get content(){return this.parts}}},yt=(e,t)=>{const n=t.part;if("text"===n.type||"reasoning"===n.type){const t={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}if("tool-call"===n.type){const t={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}if("source"===n.type){const t={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}if("file"===n.type){const t={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}throw new Error(`Unsupported part type: ${n.type}`)},vt=(e,t)=>{if("incomplete"===e.status?.type&&"error"===e.status?.reason)return e;const n=wt(t);return{...e,status:n}},wt=e=>"tool-calls"===e.finishReason?{type:"requires-action",reason:"tool-calls"}:"stop"===e.finishReason||"unknown"===e.finishReason?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},St=class extends TransformStream{constructor({initialMessage:e}={}){let t=e??gt();super({transform(e,n){const r=e.type;switch(r){case"part-start":t=yt(t,e);break;case"tool-call-args-text-finish":t=((e,t)=>bt(e,t,e=>{if("tool-call"!==e.type)throw new Error("Last is not a tool call");return"partial-call"!==e.state?e:{...e,state:"call"}}))(t,e);break;case"part-finish":t=((e,t)=>bt(e,t,e=>({...e,status:{type:"complete",reason:"unknown"}})))(t,e);break;case"text-delta":t=((e,t)=>bt(e,t,e=>{if("text"===e.type||"reasoning"===e.type)return{...e,text:e.text+t.textDelta};if("tool-call"===e.type){const n=e.argsText+t.textDelta,r=Oe(n)??e.args;return{...e,argsText:n,args:r}}throw new Error("text-delta received but part is neither text nor tool-call")}))(t,e);break;case"result":t=((e,t)=>bt(e,t,e=>{if("tool-call"===e.type)return{...e,state:"result",...void 0!==t.artifact?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}))(t,e);break;case"message-finish":t=vt(t,e);break;case"annotations":t=((e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}))(t,e);break;case"data":t=((e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}))(t,e);break;case"step-start":t=((e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}))(t,e);break;case"step-finish":t=((e,t)=>{const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&"started"===n[r]?.state?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:pt(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}})(t,e);break;case"error":t=((e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}))(t,e);break;case"update-state":t=((e,t)=>{const n=new mt(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}})(t,e);break;default:throw new Error(`Unsupported chunk type: ${r}`)}n.enqueue(t)},flush(e){if("running"===t.status?.type){const n="tool-call"===t.parts?.at(-1)?.type;t=vt(t,{type:"message-finish",path:[],finishReason:n?"tool-calls":"unknown",usage:{promptTokens:0,completionTokens:0}}),e.enqueue(t)}}})}},_t=class e{constructor(e){this.readable=e,this.readable=e}static fromAssistantStream(t){return new e(t.pipeThrough(new St))}async unstable_result(){let e;for await(const t of this)e=t;return e||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const e=this.readable.getReader();return{async next(){const{done:t,value:n}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:n}}}}tee(){const[t,n]=this.readable.tee();return[new e(t),new e(n)]}};function kt(e){return e}var Et=(e,t)=>{const n=e.threadIdMap[t];if(void 0!==n)return e.threadData[n]},xt=(e,t,n)=>{const r=Et(e,t);if(!r)return e;const{threadId:a,remoteId:s,status:i}=r;if(i===n)return e;const o={...e};switch(i){case"new":o.newThreadId=void 0;break;case"regular":o.threadIds=o.threadIds.filter(e=>e!==a);break;case"archived":o.archivedThreadIds=o.archivedThreadIds.filter(e=>e!==a);break;default:throw new Error(`Unsupported state: ${i}`)}switch(n){case"regular":o.threadIds=[a,...o.threadIds];break;case"archived":o.archivedThreadIds=[a,...o.archivedThreadIds];break;case"deleted":o.threadData=Object.fromEntries(Object.entries(o.threadData).filter(([e])=>e!==a)),o.threadIdMap=Object.fromEntries(Object.entries(o.threadIdMap).filter(([e])=>e!==a&&e!==s));break;default:throw new Error(`Unsupported state: ${n}`)}return"deleted"!==n&&(o.threadData={...o.threadData,[a]:{...r,status:n}}),o},Tt=class extends We{constructor(e,t){super(),this.contextProvider=t,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new ut(e.runtimeHook),this.useProvider=ne(()=>({Provider:e.adapter.unstable_Provider??a.Fragment})),this.__internal_setOptions(e),this.switchToNewThread()}_options;_hookManager;_loadThreadsPromise;_mainThreadId;_state=new ht({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}});getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:e=>({...e,isLoading:!0}),then:(e,t)=>{const n=[],r=[],a={},s={};for(const e of t.threads){switch(e.status){case"regular":n.push(e.remoteId);break;case"archived":r.push(e.remoteId);break;default:{const t=e.status;throw new Error(`Unsupported state: ${t}`)}}const t=kt(e.remoteId);a[e.remoteId]=t,s[t]={threadId:e.remoteId,remoteId:e.remoteId,externalId:e.externalId,status:e.status,title:e.title,initializeTask:Promise.resolve({remoteId:e.remoteId,externalId:e.externalId})}}return{...e,threadIds:n,archivedThreadIds:r,threadIdMap:{...e.threadIdMap,...a},threadData:{...e.threadData,...s}}}}).then(()=>{})),this._loadThreadsPromise}useProvider;__internal_setOptions(e){if(this._options===e)return;this._options=e;const t=e.adapter.unstable_Provider??a.Fragment;t!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:t},!0),this._hookManager.setRuntimeHook(e.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){return this._hookManager.getThreadRuntimeCore(this._mainThreadId)||dt}getThreadRuntimeCore(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");const n=this._hookManager.getThreadRuntimeCore(t.threadId);if(!n)throw new Error("Thread not found");return n}getItemById(e){return Et(this._state.value,e)}async switchToThread(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if(this._mainThreadId===t.threadId)return;const n=this._hookManager.startThreadRuntime(t.threadId);void 0!==this.mainThreadId?await n:n.then(()=>this._notifySubscribers()),"archived"===t.status&&await this.unarchive(t.threadId),this._mainThreadId=t.threadId,this._notifySubscribers()}async switchToNewThread(){for(;void 0!==this._state.baseValue.newThreadId&&void 0===this._state.value.newThreadId;)await this._state.waitForUpdate();const e=this._state.value;let t=this._state.value.newThreadId;if(void 0===t){do{t=`__LOCALID_${De()}`}while(e.threadIdMap[t]);const n=t;this._state.update({...e,newThreadId:t,threadIdMap:{...e.threadIdMap,[t]:n},threadData:{...e.threadData,[t]:{status:"new",threadId:t}}})}return this.switchToThread(t)}initialize=async e=>{if(this._state.value.newThreadId!==e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("new"===t.status)throw new Error("Unexpected new state");return t.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(e),optimistic:t=>xt(t,e,"regular"),loading:(t,n)=>{const r=e;return{...t,threadData:{...t.threadData,[r]:{...t.threadData[r],initializeTask:n}}}},then:(t,{remoteId:n,externalId:r})=>{const a=Et(t,e);if(!a)return t;const s=e;return{...t,threadIdMap:{...t.threadIdMap,[n]:s},threadData:{...t.threadData,[s]:{...a,initializeTask:Promise.resolve({remoteId:n,externalId:r}),remoteId:n,externalId:r}}}}})};generateTitle=async e=>{const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("new"===t.status)throw new Error("Thread is not yet initialized");const{remoteId:n}=await t.initializeTask,r=this._hookManager.getThreadRuntimeCore(t.threadId);if(!r)return;const a=r.messages,s=await this._options.adapter.generateTitle(n,a),i=_t.fromAssistantStream(s);for await(const e of i){const n=e.parts.filter(e=>"text"===e.type)[0]?.text,r=this._state.baseValue;this._state.update({...r,threadData:{...r.threadData,[t.threadId]:{...t,title:n}}})}};rename(e,t){const n=this.getItemById(e);if(!n)throw new Error("Thread not found");if("new"===n.status)throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:e}=await n.initializeTask;return this._options.adapter.rename(e,t)},optimistic:n=>{const r=Et(n,e);return r?{...n,threadData:{...n.threadData,[r.threadId]:{...r,title:t}}}:n}})}async _ensureThreadIsNotMain(e){if(e===this.newThreadId)throw new Error("Cannot ensure new thread is not main");e===this._mainThreadId&&await this.switchToNewThread()}async archive(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("regular"!==t.status)throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(t.threadId);const{remoteId:e}=await t.initializeTask;return this._options.adapter.archive(e)},optimistic:e=>xt(e,t.threadId,"archived")})}unarchive(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("archived"!==t.status)throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:e}=await t.initializeTask;return await this._options.adapter.unarchive(e)}catch(e){throw await this._ensureThreadIsNotMain(t.threadId),e}},optimistic:e=>xt(e,t.threadId,"regular")})}async delete(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("regular"!==t.status&&"archived"!==t.status)throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(t.threadId);const{remoteId:e}=await t.initializeTask;return await this._options.adapter.delete(e)},optimistic:e=>xt(e,t.threadId,"deleted")})}async detach(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("regular"!==t.status&&"archived"!==t.status)throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(t.threadId),this._hookManager.stopThreadRuntime(t.threadId)}useBoundIds=ne(()=>[]);__internal_RenderComponent=()=>{const e=(0,a.useId)();(0,a.useEffect)(()=>(this.useBoundIds.setState(t=>[...t,e],!0),()=>{this.useBoundIds.setState(t=>t.filter(t=>t!==e),!0)}),[e]);const t=this.useBoundIds(),{Provider:n}=this.useProvider(),r={modelContext:this.contextProvider};return(0===t.length||t[0]===e)&&(0,k.jsx)(rt,{adapters:r,children:(0,k.jsx)(this._hookManager.__internal_RenderThreadRuntimes,{provider:n})})}},It=class{_subscriptions=new Set;_connection;get isConnected(){return!!this._connection}notifySubscribers(){for(const e of this._subscriptions)e()}_updateConnection(){if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else this._connection?.(),this._connection=void 0}subscribe(e){return this._subscriptions.add(e),this._updateConnection(),()=>{this._subscriptions.delete(e),this._updateConnection()}}},Ct=Symbol("skip-update"),Rt=class extends It{constructor(e){super(),this.binding=e}get path(){return this.binding.path}_previousStateDirty=!0;_previousState;getState=()=>{if(!this.isConnected||this._previousStateDirty){const e=this.binding.getState();e!==Ct&&(this._previousState=e),this._previousStateDirty=!1}if(void 0===this._previousState)throw new Error("Entry not available in the store");return this._previousState};_connect(){return this.binding.subscribe(()=>{this._previousStateDirty=!0,this.notifySubscribers()})}},Pt=class{constructor(e,t){this._core=e,this._threadListBinding=t}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const e=this._core.getState();return this._threadListBinding.switchToThread(e.id)}rename(e){const t=this._core.getState();return this._threadListBinding.rename(t.id,e)}archive(){const e=this._core.getState();return this._threadListBinding.archive(e.id)}unarchive(){const e=this._core.getState();return this._threadListBinding.unarchive(e.id)}delete(){const e=this._core.getState();return this._threadListBinding.delete(e.id)}initialize(){const e=this._core.getState();return this._threadListBinding.initialize(e.id)}generateTitle(){const e=this._core.getState();return this._threadListBinding.generateTitle(e.id)}unstable_on(e,t){let n=this._core.getState().isMain;return this.subscribe(()=>{const r=this._core.getState().isMain;n!==r&&(n=r,("switched-to"!==e||r)&&("switched-away"===e&&r||t()))})}subscribe(e){return this._core.subscribe(e)}detach(){const e=this._core.getState();this._threadListBinding.detach(e.id)}},At=class extends It{constructor(e){super(),this.binding=e;const t=e.getState();if(t===Ct)throw new Error("Entry not available in the store");this._previousState=t}get path(){return this.binding.path}_previousState;getState=()=>(this.isConnected||this._syncState(),this._previousState);_syncState(){const e=this.binding.getState();return e!==Ct&&!function(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e)return!1;if(void 0===t)return!1;for(const n of Object.keys(e)){const r=e[n],a=t[n];if(!Object.is(r,a))return!1}return!0}(e,this._previousState)&&(this._previousState=e,!0)}_connect(){return this.binding.subscribe(()=>{this._syncState()&&this.notifySubscribers()})}},Mt=Symbol("innerMessage"),Nt=(Symbol("innerMessages"),class{constructor(e){this._core=e}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(e){return this._core.subscribe(e)}}),zt=class extends Nt{constructor(e,t){super(e),this._composerApi=t}remove(){const e=this._composerApi.getState();if(!e)throw new Error("Composer is not available");return e.removeAttachment(this.getState().id)}},Ot=class extends zt{get source(){return"thread-composer"}},Lt=class extends zt{get source(){return"edit-composer"}},Dt=class extends Nt{get source(){return"message"}constructor(e){super(e)}remove(){throw new Error("Message attachments cannot be removed")}},Ft=class extends It{constructor(e){super(),this.config=e}getState(){return this.config.binding.getState()}outerSubscribe(e){return this.config.binding.subscribe(e)}_connect(){const e=()=>{this.notifySubscribers()};let t=this.config.binding.getState(),n=t?.unstable_on(this.config.event,e);const r=this.outerSubscribe(()=>{const r=this.config.binding.getState();r!==t&&(t=r,n?.(),n=this.config.binding.getState()?.unstable_on(this.config.event,e))});return()=>{r?.(),n?.()}}},Bt=Object.freeze([]),jt=Object.freeze({}),Ut=class{constructor(e){this._core=e}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentAccept=this.getAttachmentAccept.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.setText(e)}setRunConfig(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.setRunConfig(e)}addAttachment(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.addAttachment(e)}reset(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");return e.reset()}clearAttachments(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");return e.clearAttachments()}send(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");e.send()}cancel(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");e.cancel()}setRole(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.setRole(e)}subscribe(e){return this._core.subscribe(e)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let n=this._eventSubscriptionSubjects.get(e);return n||(n=new Ft({event:e,binding:this._core}),this._eventSubscriptionSubjects.set(e,n)),n.subscribe(t)}getAttachmentAccept(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");return e.getAttachmentAccept()}},$t=class extends Ut{get path(){return this._core.path}get type(){return"thread"}_getState;constructor(e){const t=new Rt({path:e.path,getState:()=>{return t=e.getState(),Object.freeze({type:"thread",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,attachments:t?.attachments??Bt,text:t?.text??"",role:t?.role??"user",runConfig:t?.runConfig??jt,value:t?.text??""});var t},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>t.subscribe(e)}),this._getState=t.getState.bind(t)}getState(){return this._getState()}getAttachmentByIndex(e){return new Ot(new At({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{const t=this.getState().attachments[e];return t?{...t,source:"thread-composer"}:Ct},subscribe:e=>this._core.subscribe(e)}),this._core)}},Ht=class extends Ut{constructor(e,t){const n=new Rt({path:e.path,getState:()=>{return t=e.getState(),Object.freeze({type:"edit",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,text:t?.text??"",role:t?.role??"user",attachments:t?.attachments??Bt,runConfig:t?.runConfig??jt,value:t?.text??""});var t},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>n.subscribe(e)}),this._beginEdit=t,this._getState=n.getState.bind(n)}get path(){return this._core.path}get type(){return"edit"}_getState;__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(e){return new Lt(new At({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{const t=this.getState().attachments[e];return t?{...t,source:"edit-composer"}:Ct},subscribe:e=>this._core.subscribe(e)}),this._core)}},Vt=class extends It{constructor(e){super(),this.binding=e}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(e){return this.binding.subscribe(e)}_connect(){const e=()=>{this.notifySubscribers()};let t=this.binding.getState(),n=t?.subscribe(e);const r=this.outerSubscribe(()=>{const r=this.binding.getState();r!==t&&(t=r,n?.(),n=this.binding.getState()?.subscribe(e),e())});return()=>{r?.(),n?.()}}},qt=Object.freeze({type:"complete"}),Wt=(e,t)=>{const n=e.content[t];if(!n)return Ct;const r=((e,t,n)=>{if("assistant"!==e.role)return qt;if("tool-call"===n.type)return n.result?qt:e.status;const r=t===Math.max(0,e.content.length-1);return"requires-action"===e.status.type?qt:r?e.status:qt})(e,t,n);return Object.freeze({...n,[Mt]:n[Mt],status:r})},Qt=class{constructor(e,t){this._core=e,this._threadBinding=t,this.composer=new Ht(new Vt({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:e=>this._threadBinding.subscribe(e)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id))}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}composer;_getEditComposerRuntimeCore=()=>this._threadBinding.getState().getEditComposer(this._core.getState().id);getState(){return this._core.getState()}reload(e={}){const t=this._getEditComposerRuntimeCore(),n=t??this._threadBinding.getState().composer,r=t??n,{runConfig:a=r.runConfig}=e,s=this._core.getState();if("assistant"!==s.role)throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:s.parentId,sourceId:s.id,runConfig:a})}speak(){const e=this._core.getState();return this._threadBinding.getState().speak(e.id)}stopSpeaking(){const e=this._core.getState(),t=this._threadBinding.getState();if(t.speech?.messageId!==e.id)throw new Error("Message is not being spoken");this._threadBinding.getState().stopSpeaking()}submitFeedback({type:e}){const t=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:t.id,type:e})}switchToBranch({position:e,branchId:t}){const n=this._core.getState();if(t&&e)throw new Error("May not specify both branchId and position");if(!t&&!e)throw new Error("Must specify either branchId or position");const r=this._threadBinding.getState().getBranches(n.id);let a=t;if("previous"===e?a=r[n.branchNumber-2]:"next"===e&&(a=r[n.branchNumber]),!a)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(a)}unstable_getCopyText(){return Ye(this.getState())}subscribe(e){return this._core.subscribe(e)}getMessagePartByIndex(e){if(e<0)throw new Error("Message part index must be >= 0");return new se(new At({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[${e}]`,messagePartSelector:{type:"index",index:e}},getState:()=>Wt(this.getState(),e),subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getMessagePartByToolCallId(e){return new se(new At({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(e)}]`,messagePartSelector:{type:"toolCallId",toolCallId:e}},getState:()=>{const t=this._core.getState(),n=t.content.findIndex(t=>"tool-call"===t.type&&t.toolCallId===e);return-1===n?Ct:Wt(t,n)},subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getAttachmentByIndex(e){return new Dt(new At({path:{...this.path,ref:this.path.ref+`${this.path.ref}.attachments[${e}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:e}},getState:()=>{const t=this.getState().attachments,n=t?.[e];return n?{...n,source:"message"}:Ct},subscribe:e=>this._core.subscribe(e)}))}},Kt=class{get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}_threadBinding;constructor(e,t){const n=new At({path:e.path,getState:()=>((e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:"assistant"===n?.role&&"running"===n.status.type,messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})})(e.getState(),t.getState()),subscribe:n=>{const r=e.subscribe(n),a=t.subscribe(n);return()=>{r(),a()}}});this._threadBinding={path:e.path,getState:()=>e.getState(),getStateState:()=>n.getState(),outerSubscribe:t=>e.outerSubscribe(t),subscribe:t=>e.subscribe(t)},this.composer=new $t(new Vt({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:e=>this._threadBinding.subscribe(e)}))}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMesssageByIndex=this.getMesssageByIndex.bind(this),this.getMesssageById=this.getMesssageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}composer;getState(){return this._threadBinding.getStateState()}append(e){this._threadBinding.getState().append(((e,t)=>"string"==typeof t?{createdAt:new Date,parentId:e.at(-1)?.id??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??e.at(-1)?.id??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun})(this._threadBinding.getState().messages,e))}subscribe(e){return this._threadBinding.subscribe(e)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(e){const t=null===e||"string"==typeof e?{parentId:e}:e;return this._threadBinding.getState().startRun({parentId:(n=t).parentId??null,sourceId:n.sourceId??null,runConfig:n.runConfig??{}});var n}unstable_resumeRun(e){return this._threadBinding.getState().resumeRun({parentId:(t=e).parentId??null,sourceId:t.sourceId??null,runConfig:t.runConfig??{},stream:t.stream});var t}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(e){this._threadBinding.getState().import(e)}reset(e){this._threadBinding.getState().reset(e)}getMesssageByIndex(e){if(e<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[${e}]`,messageSelector:{type:"index",index:e}},()=>{const t=this._threadBinding.getState().messages,n=t[e];if(n)return{message:n,parentId:t[e-1]?.id??null}})}getMesssageById(e){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(e)}]`,messageSelector:{type:"messageId",messageId:e}},()=>this._threadBinding.getState().getMessageById(e))}_getMessageRuntime(e,t){return new Qt(new At({path:e,getState:()=>{const{message:e,parentId:n}=t()??{},{messages:r,speech:a}=this._threadBinding.getState();if(!e||void 0===n)return Ct;const s=this._threadBinding.getState(),i=s.getBranches(e.id),o=s.getSubmittedFeedback(e.id);return{...e,[Mt]:e[Mt],isLast:r.at(-1)?.id===e.id,parentId:n,branchNumber:i.indexOf(e.id)+1,branchCount:i.length,speech:a?.messageId===e.id?a:void 0,submittedFeedback:o}},subscribe:e=>this._threadBinding.subscribe(e)}),this._threadBinding)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let n=this._eventSubscriptionSubjects.get(e);return n||(n=new Ft({event:e,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(e,n)),n.subscribe(t)}},Yt=(e,t)=>{if(void 0===t)return Ct;const n=e.getItemById(t);return n?{id:n.threadId,threadId:n.threadId,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.threadId===e.mainThreadId}:Ct},Jt=class{constructor(e,t=Kt){this._core=e,this._runtimeFactory=t;const n=new Rt({path:{},getState:()=>{return{mainThreadId:(t=e).mainThreadId,newThread:t.newThreadId,threads:t.threadIds,archivedThreads:t.archivedThreadIds,isLoading:t.isLoading};var t},subscribe:t=>e.subscribe(t)});this._getState=n.getState.bind(n),this._mainThreadListItemRuntime=new Pt(new At({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>Yt(this._core,this._core.mainThreadId),subscribe:e=>this._core.subscribe(e)}),this._core),this.main=new t(new Vt({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>e.getMainThreadRuntimeCore(),subscribe:t=>e.subscribe(t)}),this._mainThreadListItemRuntime)}_getState;__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(e){return this._core.switchToThread(e)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}get isLoading(){return this._core.isLoading}subscribe(e){return this._core.subscribe(e)}_mainThreadListItemRuntime;main;get mainItem(){return this._mainThreadListItemRuntime}getById(e){return new this._runtimeFactory(new Vt({path:{ref:"threads[threadId="+JSON.stringify(e)+"]",threadSelector:{type:"threadId",threadId:e}},getState:()=>this._core.getThreadRuntimeCore(e),subscribe:e=>this._core.subscribe(e)}),this.mainItem)}getItemByIndex(e){return new Pt(new At({path:{ref:`threadItems[${e}]`,threadSelector:{type:"index",index:e}},getState:()=>Yt(this._core,this._core.threadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getArchivedItemByIndex(e){return new Pt(new At({path:{ref:`archivedThreadItems[${e}]`,threadSelector:{type:"archiveIndex",index:e}},getState:()=>Yt(this._core,this._core.archivedThreadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getItemById(e){return new Pt(new At({path:{ref:`threadItems[threadId=${e}]`,threadSelector:{type:"threadId",threadId:e}},getState:()=>Yt(this._core,e),subscribe:e=>this._core.subscribe(e)}),this._core)}},Gt=class{constructor(e){this._core=e,this.threads=new Jt(e.threads),this._thread=this.threads.main}threads;get threadList(){return this.threads}_thread;__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(e){return this._core.threads.switchToThread(e)}registerModelContextProvider(e){return this._core.registerModelContextProvider(e)}registerModelConfigProvider(e){return this.registerModelContextProvider(e)}reset({initialMessages:e}={}){return this._core.threads.getMainThreadRuntimeCore().import($e(e??[]))}},Xt=class extends Me{threads;constructor(e){super(),this.threads=new Tt(e,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}},Zt=e=>{try{const t=e.split(".")[1];if(!t)throw new Error("Invalid JWT format");let n=t.replace(/-/g,"+").replace(/_/g,"/");for(;n.length%4!=0;)n+="=";const r=atob(n),a=JSON.parse(r).exp;if(!a||"number"!=typeof a)throw new Error('JWT does not contain a valid "exp" field');return 1e3*a}catch(e){throw new Error("Unable to determine the token expiry: "+e)}},en=class{strategy="jwt";cachedToken=null;tokenExpiry=null;#e;constructor(e){this.#e=e}async getAuthHeaders(){const e=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-e>3e4)return{Authorization:`Bearer ${this.cachedToken}`};const t=await this.#e();return!!t&&(this.cachedToken=t,this.tokenExpiry=Zt(t),{Authorization:`Bearer ${t}`})}readAuthHeaders(e){const t=e.get("Authorization");if(!t)return;const[n,r]=t.split(" ");if("Bearer"!==n||!r)throw new Error("Invalid auth header received");this.cachedToken=r,this.tokenExpiry=Zt(r)}},tn=class{strategy="api-key";#t;#n;#r;constructor(e,t,n){this.#t=e,this.#n=t,this.#r=n}async getAuthHeaders(){return{Authorization:`Bearer ${this.#t}`,"Aui-User-Id":this.#n,"Aui-Workspace-Id":this.#r}}readAuthHeaders(){}},nn="aui:refresh_token",rn=class{strategy="anon";baseUrl;jwtStrategy;constructor(e){this.baseUrl=e,this.jwtStrategy=new en(async()=>{const e=Date.now(),t=localStorage.getItem(nn),n=t?JSON.parse(t):void 0;if(n)if(new Date(n.expires_at).getTime()-e>3e4){const e=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:n.token})});if(e.ok){const t=await e.json(),{access_token:n,refresh_token:r}=t;return r&&localStorage.setItem(nn,JSON.stringify(r)),n}}else localStorage.removeItem(nn);const r=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!r.ok)return null;const a=await r.json(),{access_token:s,refresh_token:i}=a;return s&&i?(localStorage.setItem(nn,JSON.stringify(i)),s):null})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(e){this.jwtStrategy.readAuthHeaders(e)}},an=class extends Error{constructor(e){super(e),this.name="APIError"}},sn=class{_auth;_baseUrl;constructor(e){if("authToken"in e)this._baseUrl=e.baseUrl,this._auth=new en(e.authToken);else if("apiKey"in e)this._baseUrl="https://backend.assistant-api.com",this._auth=new tn(e.apiKey,e.userId,e.workspaceId);else{if(!("anonymous"in e))throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration");this._baseUrl=e.baseUrl,this._auth=new rn(e.baseUrl)}}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(e,t={}){const n=await this._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");const r={...n,...t.headers,"Content-Type":"application/json"},a=new URLSearchParams;if(t.query)for(const[e,n]of Object.entries(t.query))!1!==n&&(!0===n?a.set(e,"true"):a.set(e,n.toString()));const s=new URL(`${this._baseUrl}/v1${e}`);s.search=a.toString();const i=await fetch(s,{method:t.method??"GET",headers:r,body:t.body?JSON.stringify(t.body):null});if(this._auth.readAuthHeaders(i.headers),!i.ok){const e=await i.text();try{const t=JSON.parse(e);throw new an(t.message)}catch{throw new Error(`Request failed with status ${i.status}, ${e}`)}}return i}async makeRequest(e,t={}){return(await this.makeRawRequest(e,t)).json()}},on=class{constructor(e){this.cloud=e}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}},ln={toResponse:(e,t)=>new Response(ln.toByteStream(e,t),{headers:t.headers??{}}),fromResponse:(e,t)=>ln.fromByteStream(e.body,t),toByteStream:(e,t)=>e.pipeThrough(t),fromByteStream:(e,t)=>e.pipeThrough(t)},un=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},cn=()=>{const e=[];let t,n,r=!1;const a=a=>{a.promise||(a.promise=a.reader.read().then(({done:s,value:i})=>{a.promise=void 0,s?(e.splice(e.indexOf(a),1),r&&0===e.length&&t.close()):t.enqueue(i),n?.resolve(),n=void 0}).catch(r=>{console.error(r),e.forEach(e=>{e.reader.cancel()}),e.length=0,t.error(r),n?.reject(r),n=void 0}))};return{readable:new ReadableStream({start(e){t=e},pull:()=>(n=un(),e.forEach(e=>{a(e)}),n.promise),cancel(){e.forEach(e=>{e.reader.cancel()}),e.length=0}}),isSealed:()=>r,seal(){r=!0,0===e.length&&t.close()},addStream(t){if(r)throw new Error("Cannot add streams after the run callback has settled.");const n={reader:t.getReader()};e.push(n),a(n)},enqueue(e){this.addStream(new ReadableStream({start(t){t.enqueue(e),t.close()}}))}}},dn=class{_controller;_isClosed=!1;constructor(e){this._controller=e}append(e){return this._controller.enqueue({type:"text-delta",path:[],textDelta:e}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}},fn=e=>new ReadableStream({start:t=>e.start?.(new dn(t)),pull:t=>e.pull?.(new dn(t)),cancel:t=>e.cancel?.(t)}),hn=()=>{let e;return[fn({start(t){e=t}}),e]},pn=class{constructor(e){this._controller=e;const t=fn({start:e=>{this._argsTextController=e}});let n=!1;this._mergeTask=t.pipeTo(new WritableStream({write:e=>{switch(e.type){case"text-delta":n=!0,this._controller.enqueue(e);break;case"part-finish":n||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${e.type}`)}}}))}_isClosed=!1;_mergeTask;get argsText(){return this._argsTextController}_argsTextController;async setResponse(e){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...void 0!==e.artifact?{artifact:e.artifact}:{},result:e.result,isError:e.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}},mn=class{value=-1;up(){return++this.value}},gn=class extends TransformStream{constructor(e){super({transform(t,n){n.enqueue({...t,path:[e,...t.path]})}})}},bn=(TransformStream,class extends TransformStream{constructor(e){const t=new mn,n=new Map;super({transform(r,a){"part-start"===r.type&&0===r.path.length&&n.set(t.up(),e.up());const[s,...i]=r.path;if(void 0===s)return void a.enqueue(r);const o=n.get(s);if(void 0===o)throw new Error("Path not found");a.enqueue({...r,path:[o,...i]})}})}}),yn=class e{_state;_parentId;constructor(e){this._state=e||{merger:cn(),contentCounter:new mn}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(e){this._state.closeSubscriber=e}_addPart(e,t){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:e,path:[]}),this._state.merger.addStream(t.pipeThrough(new gn(this._state.contentCounter.value)))}merge(e){this._state.merger.addStream(e.pipeThrough(new bn(this._state.contentCounter)))}appendText(e){"text"!==this._state.append?.kind&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(e)}appendReasoning(e){"reasoning"!==this._state.append?.kind&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(e)}addTextPart(){const[e,t]=hn();return this._addPart({type:"text"},e),t}addReasoningPart(){const[e,t]=hn();return this._addPart({type:"reasoning"},e),t}addToolCallPart(e){const t="string"==typeof e?{toolName:e}:e,n=t.toolName,r=t.toolCallId??pt(),[a,s]=(()=>{let e;var t;return[(t={start(t){e=t}},new ReadableStream({start:e=>t.start?.(new pn(e)),pull:e=>t.pull?.(new pn(e)),cancel:e=>t.cancel?.(e)})),e]})();return this._addPart({type:"tool-call",toolName:n,toolCallId:r,...this._parentId&&{parentId:this._parentId}},a),void 0!==t.argsText&&(s.argsText.append(t.argsText),s.argsText.close()),void 0!==t.args&&(s.argsText.append(JSON.stringify(t.args)),s.argsText.close()),void 0!==t.response&&s.setResponse(t.response),s}appendSource(e){this._addPart({...e,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(e){e.enqueue({type:"part-finish",path:[]}),e.close()}}))}appendFile(e){this._addPart(e,new ReadableStream({start(e){e.enqueue({type:"part-finish",path:[]}),e.close()}}))}enqueue(e){this._state.merger.enqueue(e),"part-start"===e.type&&0===e.path.length&&this._state.contentCounter.up()}withParentId(t){const n=new e(this._state);return n._parentId=t,n}close(){this._state.merger.seal(),this._state.append?.controller?.close(),this._state.closeSubscriber?.()}};function vn(e){const t=new yn;let n;try{n=e(t)}catch(e){throw t.__internal_isClosed||(t.enqueue({type:"error",path:[],error:String(e)}),t.close()),e}return n instanceof Promise?(async()=>{try{await n}catch(e){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(e)}),e}finally{t.__internal_isClosed||t.close()}})():t.__internal_isClosed||t.close(),t.__internal_getReadable()}var wn=class extends TransformStream{constructor(e,t,n){const[r,a]=function(){const{resolve:e,promise:t}=un();let n;return[vn(r=>(n=r,n.__internal_subscribeToClose(e),t)),n]}();let s;super({start:t=>(s=r.pipeTo(new WritableStream({write(e){t.enqueue(e)},abort(e){t.error(e)},close(){t.terminate()}})).catch(e=>{t.error(e)}),e.start?.(a)),transform:t=>e.transform?.(t,a),async flush(){await(e.flush?.(a)),a.close(),await s}},t,n)}},Sn=class extends TransformStream{constructor(e){super();const t=e(super.readable);Object.defineProperty(this,"readable",{value:t,writable:!1})}},_n=class extends Sn{constructor(){super(e=>{const t=new wn({transform(e,t){t.appendText(e)}});return e.pipeThrough(new TextDecoderStream).pipeThrough(t)})}},kn=class{constructor(e){this.cloud=e}__internal_getAssistantOptions(e){return{api:this.cloud._baseUrl+"/v1/runs/stream",headers:async()=>{const e=await this.cloud._auth.getAuthHeaders();if(!e)throw new Error("Authorization failed");return{...e,Accept:"text/plain"}},body:{assistant_id:e,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(e){const t=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:e});return ln.fromResponse(t,new _n)}},En=class{constructor(e){this.cloud=e}async list(e){return this.cloud.makeRequest(`/threads/${encodeURIComponent(e)}/messages`)}async create(e,t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(e)}/messages`,{method:"POST",body:t})}},xn=class{constructor(e){this.cloud=e,this.messages=new En(e)}messages;async list(e){return this.cloud.makeRequest("/threads",{query:e})}async create(e){return this.cloud.makeRequest("/threads",{method:"POST",body:e})}async update(e,t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(e)}`,{method:"PUT",body:t})}async delete(e){return this.cloud.makeRequest(`/threads/${encodeURIComponent(e)}`,{method:"DELETE"})}},Tn=class{constructor(e){this.cloud=e}async pdfToImages(e){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:e})}async generatePresignedUploadUrl(e){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:e})}};function In(e,t=0){return!(t>100)&&(null===e||"string"==typeof e||"boolean"==typeof e||("number"==typeof e?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(e=>In(e,t+1)):"object"==typeof e&&Object.entries(e).every(([e,n])=>"string"==typeof e&&In(n,t+1))))}var Cn=e=>({role:e.role,content:e.content.map(e=>{const t=e.type;switch(t){case"text":return{type:"text",text:e.text};case"reasoning":return{type:"reasoning",text:e.text};case"source":return{type:"source",sourceType:e.sourceType,id:e.id,url:e.url,...e.title?{title:e.title}:void 0};case"tool-call":return In(e.result)||console.warn("tool-call result is not JSON! "+JSON.stringify(e)),{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,...JSON.stringify(e.args)===e.argsText?{args:e.args}:{argsText:e.argsText},...e.result?{result:e.result}:{},...e.isError?{isError:!0}:{}};default:throw new Error(`Message part type not supported by aui/v0: ${t}`)}}),metadata:e.metadata,...e.status?{status:"running"===e.status?.type?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}),Rn=e=>{const t=e.content,n=Be({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Pn=class{constructor(e,t){this.cloudRef=e,this.threadListItemRuntime=t}_getIdForLocalId={};async append({parentId:e,message:t}){const{remoteId:n}=await this.threadListItemRuntime.initialize(),r=this.cloudRef.current.threads.messages.create(n,{parent_id:e?await this._getIdForLocalId[e]??e:null,format:"aui/v0",content:Cn(t)}).then(({message_id:e})=>(this._getIdForLocalId[t.id]=e,e));return this._getIdForLocalId[t.id]=r,r.then(()=>{})}async load(){const e=this.threadListItemRuntime.getState().remoteId;if(!e)return{messages:[]};const{messages:t}=await this.cloudRef.current.threads.messages.list(e);return{messages:t.filter(e=>"aui/v0"===e.format).map(Rn).reverse()}}},An=class{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(e){return Promise.resolve({remoteId:e,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}},Mn="undefined"!=typeof process&&process?.env?.NEXT_PUBLIC_ASSISTANT_BASE_URL,Nn=Mn?new class{threads;auth;runs;files;constructor(e){const t=new sn(e);this.threads=new xn(t),this.auth={tokens:new on(t)},this.runs=new kn(t),this.files=new Tn(t)}}({baseUrl:Mn,anonymous:!0}):void 0,zn=e=>{const t=(0,a.useRef)(e);(0,a.useEffect)(()=>{t.current=e},[e]);const n=(0,a.useCallback)(function({children:e}){const n=(e=>{const t=it(),[n]=(0,a.useState)(()=>new Pn(e,t));return n})({get current(){return t.current.cloud??Nn}}),r=(0,a.useMemo)(()=>({history:n}),[n]);return(0,k.jsx)(rt,{adapters:r,children:e})},[]),r=e.cloud??Nn;return r?{list:async()=>{const{threads:e}=await r.threads.list();return{threads:e.map(e=>({status:e.is_archived?"archived":"regular",remoteId:e.id,title:e.title,externalId:e.external_id??void 0}))}},initialize:async()=>{const t=e.create?.()??Promise.resolve(),n=await t,a=n?n.externalId:void 0,{thread_id:s}=await r.threads.create({last_message_at:new Date,external_id:a});return{externalId:a,remoteId:s}},rename:async(e,t)=>r.threads.update(e,{title:t}),archive:async e=>r.threads.update(e,{is_archived:!0}),unarchive:async e=>r.threads.update(e,{is_archived:!1}),delete:async t=>(await(e.delete?.(t)),r.threads.delete(t)),generateTitle:async(e,t)=>r.runs.stream({thread_id:e,assistant_id:"system/thread_title",messages:t}),unstable_Provider:n}:new An},On=(e,{cloud:t,...n}={})=>(e=>{const[t]=(0,a.useState)(()=>new Xt(e));return(0,a.useEffect)(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),(0,a.useMemo)(()=>new Gt(t),[t])})({runtimeHook:function(){return((e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=(0,a.useContext)(nt)??{},i=(0,a.useMemo)(()=>({...n,adapters:{...s,...n.adapters,chatModel:e}}),[e,n,s]),[o]=(0,a.useState)(()=>new tt(i,t));return(0,a.useEffect)(()=>()=>{o.threads.getMainThreadRuntimeCore().detach()},[o]),(0,a.useEffect)(()=>{o.threads.getMainThreadRuntimeCore().__internal_setOptions(i),o.threads.getMainThreadRuntimeCore().__internal_load()},[o,i]),(0,a.useEffect)(()=>{if(r)return o.registerModelContextProvider(r)},[r,o]),(0,a.useMemo)(()=>new Gt(o),[o])})(e,n)},adapter:zn({cloud:t})}),Ln=(0,a.createContext)(null),Dn=P(Ln,"AssistantRuntimeProvider");function Fn(e){const t=Dn(e);return t?t.useThreadRuntime():null}var Bn=z(Fn);z(e=>Fn(e)?.composer??null);var jn=(0,a.createContext)(null),Un=P(jn,"ThreadPrimitive.Viewport"),{useThreadViewport:$n,useThreadViewportStore:Hn}=A(Un,"useThreadViewport"),Vn=({children:e})=>{const t=(()=>{const e=Hn({optional:!0}),[t]=(0,a.useState)(()=>(()=>{const e=new Set;return ne(()=>({isAtBottom:!0,scrollToBottom:()=>{for(const t of e)t()},onScrollToBottom:t=>(e.add(t),()=>{e.delete(t)})}))})());return(0,a.useEffect)(()=>e?.getState().onScrollToBottom(()=>{t.getState().scrollToBottom()}),[e,t]),(0,a.useEffect)(()=>{if(e)return t.subscribe(t=>{e.getState().isAtBottom!==t.isAtBottom&&e.setState({isAtBottom:t.isAtBottom})})},[t,e]),t})(),[n]=(0,a.useState)(()=>({useThreadViewport:t}));return(0,k.jsx)(jn.Provider,{value:n,children:e})},qn=({children:e,listItemRuntime:t,runtime:n})=>{const r=(e=>{const[t]=(0,a.useState)(()=>ne(()=>e));return(0,a.useEffect)(()=>{M(e),M(e.composer),t.setState(e,!0)},[e,t]),t})(n),[s]=(0,a.useState)(()=>({useThreadRuntime:r}));return(0,k.jsx)(lt,{runtime:t,children:(0,k.jsx)(Ln.Provider,{value:s,children:(0,k.jsx)(Vn,{children:e})})})},Wn=(0,a.memo)(({children:e,runtime:t})=>{const n=(e=>{const[t]=(0,a.useState)(()=>ne(()=>e));return(0,a.useEffect)(()=>{M(e),M(e.threads),t.setState(e,!0)},[e,t]),t})(t),r=(0,a.useMemo)(()=>ne(e=>{const t=new Map;return Object.freeze({getToolUI:e=>{const n=t.get(e),r=n?.at(-1);return r||null},setToolUI:(n,r)=>{let a=t.get(n);return a||(a=[],t.set(n,a)),a.push(r),e({}),()=>{const t=a.indexOf(r);-1!==t&&a.splice(t,1),t===a.length&&e({})}}})}),[]),[s]=(0,a.useState)(()=>({useToolUIs:r,useAssistantRuntime:n})),i=(e=>e._core?.RenderComponent)(t);return(0,k.jsxs)(V.Provider,{value:s,children:[i&&(0,k.jsx)(i,{}),(0,k.jsx)(qn,{runtime:t.thread,listItemRuntime:t.threads.mainItem,children:e})]})}),Qn=(0,a.forwardRef)((e,t)=>(0,k.jsx)(R.div,{...e,ref:t}));Qn.displayName="ThreadPrimitive.Root";var Kn=e=>{const t=ce(e),n=$n(e=>e.onScrollToBottom);(0,a.useEffect)(()=>n(t),[n,t])},Yn=({autoScroll:e=!0})=>{const t=(0,a.useRef)(null),n=Hn(),r=(0,a.useRef)(0),s=(0,a.useRef)(!1),i=(0,a.useCallback)(n=>{const r=t.current;r&&e&&(s.current=!0,r.scrollTo({top:r.scrollHeight,behavior:n}))},[e]),o=()=>{const e=t.current;if(!e)return;const a=n.getState().isAtBottom,i=e.scrollHeight-e.scrollTop<=e.clientHeight+1;!i&&r.current<e.scrollTop||(i&&(s.current=!1),i!==a&&n.setState({isAtBottom:i})),r.current=e.scrollTop},l=(()=>{const e=ce(()=>{(s.current||n.getState().isAtBottom)&&i("instant"),o()}),t=(0,a.useCallback)(t=>{const n=new ResizeObserver(()=>{e()}),r=new MutationObserver(()=>{e()});return n.observe(t),r.observe(t,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{n.disconnect(),r.disconnect()}},[e]);return $(t)})(),u=$(e=>(e.addEventListener("scroll",o),()=>{e.removeEventListener("scroll",o)}));Kn(()=>{i("auto")});const c=Fn();return(0,a.useEffect)(()=>c.unstable_on("run-start",()=>i("auto")),[i,c]),_(l,u,t)},Jn=(0,a.forwardRef)(({autoScroll:e,children:t,...n},r)=>{const a=_(r,Yn({autoScroll:e}));return(0,k.jsx)(R.div,{...n,ref:a,children:t})});Jn.displayName="ThreadPrimitive.ViewportScrollable";var Gn=(0,a.forwardRef)((e,t)=>(0,k.jsx)(Vn,{children:(0,k.jsx)(Jn,{...e,ref:t})}));Gn.displayName="ThreadPrimitive.Viewport";var Xn=({runtime:e,children:t})=>{const n=(e=>{const[t]=(0,a.useState)(()=>ne(()=>e));return(0,a.useEffect)(()=>{M(e),t.setState(e,!0)},[e,t]),t})(e),r=(()=>{const[e]=(0,a.useState)(()=>ne(e=>({isCopied:!1,setIsCopied:t=>{e({isCopied:t})},isHovering:!1,setIsHovering:t=>{e({isHovering:t})}})));return e})(),[s]=(0,a.useState)(()=>({useMessageRuntime:n,useMessageUtils:r}));return(0,k.jsx)(O.Provider,{value:s,children:t})},Zn=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,er=()=>null,tr=({components:e})=>{const t=((e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??er;default:throw new Error(`Unknown message role: ${t}`)}})(e,F(e=>e.role),B(e=>e.isEditing));return(0,k.jsx)(t,{})},nr=(0,a.memo)(({messageIndex:e,components:t})=>{const n=Fn(),r=(0,a.useMemo)(()=>n.getMesssageByIndex(e),[n,e]);return(0,k.jsx)(Xn,{runtime:r,children:(0,k.jsx)(tr,{components:t})})},(e,t)=>e.messageIndex===t.messageIndex&&Zn(e.components,t.components)),rr=({components:e})=>{const t=Bn(e=>e.messages.length),n=(0,a.useMemo)(()=>0===t?null:Array.from({length:t},(t,n)=>(0,k.jsx)(nr,{messageIndex:n,components:e},n)),[t,e]);return n};rr.displayName="ThreadPrimitive.Messages";var ar=(0,a.memo)(rr,(e,t)=>Zn(e.components,t.components));function sr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function ir(e){const t=D({optional:!0}),n=Fn(e);return t?t.composer:n?.composer??null}var or=z(ir),lr=()=>{const e=ir(),t=((e,t)=>{const n=(0,a.useMemo)(()=>(e=>{const t=t=>{const n=e.map(e=>e.subscribe(t));return()=>{for(const e of n)e()}};return n=>{const r=()=>n(...e.map(e=>e.getState()));return(0,a.useSyncExternalStore)(t,r,r)}})(e),e);return n(t)})([Fn(),e],(e,t)=>e.isRunning||!t.isEditing||t.isEmpty),n=(0,a.useCallback)(()=>{e.send()},[e]);return t?null:n},ur=((e,t,n=[])=>{const r=(0,a.forwardRef)((e,r)=>{const a={},s={};Object.keys(e).forEach(t=>{n.includes(t)?a[t]=e[t]:s[t]=e[t]});const i=t(a)??void 0;return(0,k.jsx)(R.button,{type:"button",...s,ref:r,disabled:s.disabled||!i,onClick:sr(s.onClick,i)})});return r.displayName=e,r})("ComposerPrimitive.Send",lr),cr=(0,a.forwardRef)(({onSubmit:e,...t},n)=>{const r=lr();return(0,k.jsx)(R.form,{...t,ref:n,onSubmit:sr(e,e=>{e.preventDefault(),r&&r()})})});function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr.apply(null,arguments)}cr.displayName="ComposerPrimitive.Root";var fr=a.useLayoutEffect,hr=function(e,t){"function"!=typeof e?e.current=t:e(t)},pr={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},mr=function(e){Object.keys(pr).forEach(function(t){e.style.setProperty(t,pr[t],"important")})},gr=null,br=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize},yr=function(){},vr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],wr=!!document.documentElement.currentStyle;function Sr(e,t,n){var r,s,i=(r=n,s=a.useRef(r),fr(function(){s.current=r}),s);a.useLayoutEffect(function(){var n=function(e){return i.current(e)};if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}},[])}var _r=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],kr=function(e,t){var n,r=e.cacheMeasurements,s=e.maxRows,i=e.minRows,o=e.onChange,l=void 0===o?yr:o,u=e.onHeightChange,c=void 0===u?yr:u,d=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,_r),f=void 0!==d.value,h=a.useRef(null),p=function(e,t){var n=a.useRef();return a.useCallback(function(r){e.current=r,n.current&&hr(n.current,null),n.current=t,t&&hr(t,r)},[t])}(h,t),m=a.useRef(0),g=a.useRef(),b=function(){var e=h.current,t=r&&g.current?g.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,vr.reduce(function(e,t){return e[t]=n[t],e},{})),a=r.boxSizing;return""===a?null:(wr&&"border-box"===a&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){g.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),gr||((gr=document.createElement("textarea")).setAttribute("tabindex","-1"),gr.setAttribute("aria-hidden","true"),mr(gr)),null===gr.parentNode&&document.body.appendChild(gr);var a=e.paddingSize,s=e.borderSize,i=e.sizingStyle,o=i.boxSizing;Object.keys(i).forEach(function(e){var t=e;gr.style[t]=i[t]}),mr(gr),gr.value=t;var l=br(gr,e);gr.value=t,l=br(gr,e),gr.value="x";var u=gr.scrollHeight-a,c=u*n;"border-box"===o&&(c=c+a+s),l=Math.max(c,l);var d=u*r;return"border-box"===o&&(d=d+a+s),[l=Math.min(d,l),u]}(t,e.value||e.placeholder||"x",i,s),a=n[0],o=n[1];m.current!==a&&(m.current=a,e.style.setProperty("height",a+"px","important"),c(a,{rowHeight:o}))}};return a.useLayoutEffect(b),function(e,t){Sr(document.body,"reset",function(n){e.current.form===n.target&&t()})}(h,function(){if(!f){var e=h.current.value;requestAnimationFrame(function(){var t=h.current;t&&e!==t.value&&b()})}}),Sr(window,"resize",b),n=b,Sr(document.fonts,"loadingdone",n),a.createElement("textarea",dr({},d,{onChange:function(e){f||b(),l(e)},ref:p}))},Er=a.forwardRef(kr),xr=(0,a.forwardRef)(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:i,submitOnEnter:o=!0,cancelOnEscape:l=!0,unstable_focusOnRunStart:u=!0,unstable_focusOnScrollToBottom:c=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:f=!0,...h},p)=>{const m=it(),g=Fn(),b=ir(),y=or(e=>e.isEditing?e.text:""),v=t?x:Er,w=Boolean(Bn(e=>e.isDisabled)||n),S=(0,a.useRef)(null),E=_(p,S);!function(e,t=globalThis?.document){const n=ce(e);a.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{l&&b.getState().canCancel&&(b.cancel(),e.preventDefault())});const T=e&&!w,I=(0,a.useCallback)(()=>{const e=S.current;e&&T&&(e.focus({preventScroll:!0}),e.setSelectionRange(e.value.length,e.value.length))},[T]);return(0,a.useEffect)(()=>I(),[I]),Kn(()=>{"thread"===b.type&&c&&I()}),(0,a.useEffect)(()=>{if("thread"===b.type&&u)return g.unstable_on("run-start",I)},[u,I,b,g]),(0,a.useEffect)(()=>{if("thread"===b.type&&d)return m.unstable_on("switched-to",I)},[d,I,b,m]),(0,k.jsx)(v,{name:"input",value:y,...h,ref:E,disabled:w,onChange:sr(r,e=>{if(b.getState().isEditing)return b.setText(e.target.value)}),onKeyDown:sr(s,e=>{if(!w&&o&&!e.nativeEvent.isComposing&&"Enter"===e.key&&!1===e.shiftKey){const{isRunning:t}=g.getState();t||(e.preventDefault(),S.current?.closest("form")?.requestSubmit())}}),onPaste:sr(i,async e=>{if(!f)return;const t=g.getState().capabilities,n=Array.from(e.clipboardData?.files||[]);if(t.attachments&&n.length>0)try{e.preventDefault(),await Promise.all(n.map(e=>b.addAttachment(e)))}catch(e){console.error("Error adding attachment:",e)}})})});xr.displayName="ComposerPrimitive.Input";const Tr={description:"Call Salesforce Apex backend",parameters:{type:"object",properties:{message:{type:"string"}},required:["message"]},execute:async({message:e})=>{try{const t=await fetch("/services/apexrest/assistant/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,conversationId:"salesforce-session"})}),n=await t.json();return n?.message||"I apologize, but I encountered an error processing your request."}catch(e){return`I'm sorry, I encountered an error: ${e?.message||e?.toString()||"Unknown error"}`}}},Ir=()=>a.createElement(H,null,a.createElement(Pe,null)),Cr=()=>{const e=On({initialMessages:[{role:"assistant",content:[{type:"text",text:"Hello! I'm your Salesforce assistant. How can I help you today?"}]}],tools:[Tr]});return a.createElement(Wn,{runtime:e},a.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column"}},a.createElement(Qn,null,a.createElement(Gn,{style:{flex:1,overflow:"auto",padding:"16px"}},a.createElement(ar,{components:{Message:Ir}})),a.createElement("div",{style:{borderTop:"1px solid #ccc",padding:"16px"}},a.createElement(cr,null,a.createElement(xr,{style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",marginRight:"8px"},placeholder:"Type your message..."}),a.createElement(ur,{style:{padding:"8px 16px",backgroundColor:"#0176d3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Send"))))))},Rr={init:function(e){if(!e)throw new Error("Container element is required");try{const t=(0,s.createRoot)(e);return t.render(a.createElement(Cr)),{status:"success",root:t}}catch(t){console.error("Error initializing React app:",t);try{const n=document.createElement("div");n.innerHTML=`\n        <div style="padding: 20px; border: 2px solid red; background: #ffe0e0;">\n          <h3>Assistant UI Error</h3>\n          <p>Error: ${t?.message||"Unknown error"}</p>\n        </div>\n      `,e.innerHTML="",e.appendChild(n)}catch(e){console.error("Fallback failed:",e)}throw t}},version:"5.1.0-complete-chat-ui",timestamp:Date.now(),debug:()=>console.log("AssistantUI v5.1.0-complete-chat-ui is loaded and available")};"undefined"!=typeof window&&(window.AssistantUI=Rr,console.log("[React Bundle] AssistantUI attached to window object"),console.log("[React Bundle] window.AssistantUI:",window.AssistantUI),window.AssistantUIGlobal=Rr,window.ReactAssistant=Rr,console.log("[React Bundle] Assistant UI bundle loaded successfully, version:",Rr.version));const Pr=Rr;return r.default})());